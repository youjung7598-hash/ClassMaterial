# Streamlit ì‹¬í™” & ë°°í¬ ì‹¤ìŠµ

# 0. ì „ì²´ ì½˜ì…‰íŠ¸ & ì‚°ì¶œë¬¼

ğŸ¯ ëª©í‘œ
- Streamlit ëŒ€ì‹œë³´ë“œ 1ê°œ ì™„ì„±
- ì˜ˆì‹œ ì£¼ì œ: `ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬/ì§€í‘œ ë¶„ì„ ëŒ€ì‹œë³´ë“œ`
- ê¸°ëŠ¥ í¬í•¨:
    - ì‚¬ì´ë“œë°” í•„í„°
    - íƒ­(Tab) ê¸°ë°˜ í™”ë©´ ë¶„ë¦¬
    - ì°¨íŠ¸(Bar / Line / Metric)
    - ê°„ë‹¨í•œ â€œê´€ì œ ëŠë‚Œâ€ ìƒ‰ìƒ/ì§€í‘œ
- GitHub ë ˆí¬ì§€í† ë¦¬ 1ê°œ
- Streamlit Cloud ë°°í¬ URL 1ê°œ
- í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ë°ì´í„° ì²˜ë¦¬ í•¨ìˆ˜ ê²€ì¦

---
# 1. í”„ë¡œì íŠ¸ í´ë” ë§Œë“¤ê¸°

```bash
cd ~
mkdir streamlit_dashboard_day # í´ë”ìƒì„±
cd streamlit_dashboard_day # ìƒì„±í•œ í´ë”ë¡œ ì´ë™
pwd  # ê²½ë¡œí™•ì¸
```

uv ì„¤ì¹˜ í™•ì¸
```bash
uv --version
```

ì—†ìœ¼ë©´ ì„¤ì¹˜(ê·¸ëŸ¬ë‚˜ ìš°ë¦° ì´ë¯¸ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ì°¸ê³ ë§Œ í•˜ì„¸ìš”.)
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
source ~/.bashrc
uv --version
```

uvë¡œ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
```bash
uv init
```
	ì´ ë‹¨ê³„ì—ì„œ ì´ í´ë”ëŠ” í•˜ë‚˜ì˜ íŒŒì´ì¬ í”„ë¡œì íŠ¸ë‹¤ê°€ í™•ì •ë©ë‹ˆë‹¤.

ê°€ìƒí™˜ê²½(.venv) ë§Œë“¤ê³  í™œì„±í™”
```bash
uv venv
source .venv/bin/activate
```

.venv/ê°€ ì•ˆë³´ì´ë©´ í™œì„±í™” ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
```bash
which python
```

í™œì„±í™” í™•ì¸: ì •ìƒì ìœ¼ë¡œ í™œì„±í™” ë˜ì—ˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
```bash
/home/youjung/streamlit_dashboard_day/.venv/bin/python
```

ê°€ìƒí™˜ê²½ì€ í™œì„±í™”ëì§€ë§Œ í‘œì‹œë§Œ ì•ˆ ë˜ëŠ” ìƒíƒœ í•´ê²°ë°©ë²•(í•´ë‹¹ì‚¬í•­ë§Œ ì§„í–‰í•©ë‹ˆë‹¤.)
```bash
unset VIRTUAL_ENV_DISABLE_PROMPT
source .venv/bin/activate
export PS1="(.venv) $PS1"
```
ì´ë•Œ (.venv)ê°€ ë³´ì´ë©´ ê°€ìƒí™˜ê²½ì€ ì •ìƒ

í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
```bash
uv pip install streamlit pandas requests python-dotenv pytest
```

ì„ íƒ(ê³ ê¸‰):
```bash
uv pip install matplotlib plotly folium
```

ì„¤ì¹˜ í™•ì¸:
```bash
uv pip list
```

---
ì¤‘ê°„ ì ê²€ - Streamlitì´ ëœ¨ëŠ”ì§€ ë¨¼ì € í™•ì¸
app.py ìƒì„±
```bash
touch app.py
```

`app.py`ì— ì•„ë˜ ì…ë ¥:
```python
import streamlit as st

st.set_page_config(page_title="Day10 Streamlit", layout="wide")
st.title("ğŸ™ï¸ Streamlit Day10 ì‹œì‘")
st.write("í´ë” ìƒì„± â†’ uv í™˜ê²½ ì„¸íŒ… â†’ ì‹¤í–‰ ì„±ê³µê¹Œì§€ ì™„ë£Œ!")
```

ì‹¤í–‰ (uv ë°©ì‹)
```bash
uv run streamlit run app.py
```
ë¸Œë¼ìš°ì €: `http://localhost:8501`
	í™˜ê²½ì„¤ì •ì´ ëê³ , ìŠ¤íŠ¸ë¦¼ë¦¿ì´ ì‹¤ì œë¡œ ëœ¬ë‹¤â€ë¥¼ ë¨¼ì € í™•ì¸í•©ë‹ˆë‹¤.

Streamlitì´ ì‹¤ì œë¡œ ëœ¨ë©´ ì¢…ë£Œ: í„°ë¯¸ë„ì—ì„œ `Ctrl + C`

---
# 2. ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± (ì„œë¹„ìŠ¤í˜• êµ¬ì¡° ë§Œë“¤ê¸°)

í”„ë¡œì íŠ¸ êµ¬ì¡°:
```bash
streamlit_dashboard_day/
â”œâ”€ app.py                      # ë©”ì¸ Streamlit ì•±
â”œâ”€ dashboard/
â”‚   â”œâ”€ __init__.py
â”‚   â”œâ”€ layout.py               # ë ˆì´ì•„ì›ƒ(ì»¬ëŸ¼, íƒ­, ì‚¬ì´ë“œë°”) êµ¬ì„±
â”‚   â”œâ”€ widgets.py              # ìœ„ì ¯(ì…ë ¥/í•„í„°) ê´€ë ¨ í•¨ìˆ˜
â”‚   â”œâ”€ views.py                # ê° íƒ­ì—ì„œ ê·¸ë¦¬ëŠ” í™”ë©´(í‘œ/ì°¨íŠ¸/ì¹´ë“œ)
â”‚   â””â”€ state.py                # Session state ê´€ë ¨ ìœ í‹¸ (í•„ìš” ì‹œ)
â”œâ”€ services/
â”‚   â”œâ”€ __init__.py
â”‚   â””â”€ data_loader.py          # CSV / API ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë¡œì§
â”œâ”€ data/
â”‚   â””â”€ population.csv          # ì˜ˆì‹œ ë°ì´í„° (ë„ì‹œ/ì—°ë„/ì¸êµ¬ ë“±)
â”œâ”€ tests/
â”‚   â”œâ”€ __init__.py
â”‚   â””â”€ test_data_loader.py     # ë°ì´í„° ì²˜ë¦¬ í•¨ìˆ˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”œâ”€ requirements.txt            # streamlit, pandas ë“±
â””â”€ README.md                   # í”„ë¡œì íŠ¸ ì„¤ëª… + ì‹¤í–‰/ë°°í¬ ë°©ë²•
```

í´ë” êµ¬ì¡° ìƒì„± (dashboard/services/data/tests)
```bash
mkdir -p dashboard services data tests

touch dashboard/__init__.py services/__init__.py tests/__init__.py
touch dashboard/layout.py dashboard/widgets.py dashboard/views.py dashboard/state.py
touch services/data_loader.py
touch tests/test_data_loader.py
touch README.md requirements.txt
```

data/population.csv ë§Œë“¤ê¸°
```bash
cat > data/population.csv << 'EOF'
ë„ì‹œ,ì—°ë„,ì¸êµ¬ìˆ˜
ì„œìš¸,2020,950
ì„œìš¸,2021,960
ì„œìš¸,2022,970
ë¶€ì‚°,2020,340
ë¶€ì‚°,2021,345
ë¶€ì‚°,2022,350
ëŒ€êµ¬,2020,240
ëŒ€êµ¬,2021,242
ëŒ€êµ¬,2022,245
ì œì£¼,2020,70
ì œì£¼,2021,72
ì œì£¼,2022,75
EOF
```
---
# requirements.txt ìƒì„± (ì„¤ì¹˜ ëë‚¬ìœ¼ë‹ˆ ì´ì œ freeze)

```bash
uv pip freeze > requirements.txt
```
â†’ í˜„ì¬ ì„¤ì¹˜ëœ streamlit, pandas, requests ë“±  
ëª¨ë“  íŒ¨í‚¤ì§€ ë²„ì „ ì •ë³´ê°€ ìë™ìœ¼ë¡œ ë“¤ì–´ê°

í™•ì¸:
```bash
cat requirements.txt
```

requirements.txt 
```
streamlit==1.41.1
pandas==2.2.2
requests==2.32.3
python-dotenv==1.0.1
.....ì´í•˜ ìƒëµ
```
(ë²„ì „ì€ í˜„ì¬ ê¸°ì¤€ ê°’ì´ë©° ìˆ˜ì—… ì‹œì ì—ì„œ ìë™ freeze ê¶Œì¥)

Streamlit ì‹¤í–‰ ëª…ë ¹ì–´
```bash
 uv run streamlit run app.py
```
	ì œëŒ€ë¡œ êµ¬ë™ë˜ëŠ”ì§€ í™•ì¸

---
### ì„¤ì¹˜í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
	ì˜¤ëŠ˜ ìš°ë¦¬ëŠ” íŒŒì´ì¬ìœ¼ë¡œ ì›¹ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ì–´ ì‹¤ì œ ì„œë¹„ìŠ¤ì²˜ëŸ¼ ë°°í¬í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.  
	ê·¸ë˜ì„œ ì›¹ í™”ë©´ + ë°ì´í„° ì²˜ë¦¬ + ì™¸ë¶€ ë°ì´í„° ì—°ë™ + ë°°í¬ í™˜ê²½ ê´€ë¦¬ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ 
	ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.

í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì´ 4ê°œëŠ” ë°˜ë“œì‹œ í•„ìš”)
```bash
pip install streamlit pandas requests python-dotenv
```

### ì™œ ì´ 4ê°œì¸ê°€?
| ë¼ì´ë¸ŒëŸ¬ë¦¬             | ì‰½ê²Œ ë§í•˜ë©´                | í•˜ëŠ” ì—­í•                        |
| ----------------- | --------------------- | --------------------------- |
| **streamlit**     | íŒŒì´ì¬ìœ¼ë¡œ ì›¹ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ë„êµ¬    | HTML/CSS ì—†ì´ ëŒ€ì‹œë³´ë“œ í™”ë©´ì„ ë°”ë¡œ ë§Œë“¦  |
| **pandas**        | í‘œ(ì—‘ì…€ ê°™ì€ ë°ì´í„°)ë¥¼ ë‹¤ë£¨ëŠ” ë„êµ¬  | CSV/API ë°ì´í„°ë¥¼ ì •ë¦¬Â·í•„í„°Â·ê³„ì‚°       |
| **requests**      | ì›¹ ì£¼ì†Œ(API)ì— ìš”ì²­ ë³´ë‚´ëŠ” ë„êµ¬  | ì™¸ë¶€ ë°ì´í„°(ë¯¸ì„¸ë¨¼ì§€, ì¸êµ¬, ë‚ ì”¨ ë“±) ê°€ì ¸ì˜¤ê¸° |
| **python-dotenv** | ë¹„ë°€ ê°’(API KEY)ì„ ìˆ¨ê¸°ëŠ” ë„êµ¬ | ë°°í¬ ì‹œ ë³´ì•ˆ ì •ë³´ ê´€ë¦¬               |

ğŸ”¹ streamlit
	íŒŒì´ì¬ ì½”ë“œ â†’ ë°”ë¡œ ì›¹ í™”ë©´
- ë²„íŠ¼, í‘œ, ì°¨íŠ¸, íƒ­ì„ íŒŒì´ì¬ í•œ ì¤„ë¡œ ë§Œë“¦
- ì„œë²„ ì„¤ì •, í”„ë¡ íŠ¸ì—”ë“œ ì§€ì‹ ì—†ì´ë„ ì›¹ ì•± ê°€ëŠ¥

ì˜ˆ:
```python
st.title("ëŒ€ì‹œë³´ë“œ")
st.dataframe(df)
st.bar_chart(df)
```
---
ğŸ”¹ pandas
	ë°ì´í„° ë‹¤ë£¨ê¸°ì˜ í‘œì¤€ ë„êµ¬
- CSV íŒŒì¼ ì½ê¸°
- í•„í„°ë§ / ì •ë ¬ / í•©ê³„ / í‰ê·  ê³„ì‚°
- Streamlitê³¼ ê°€ì¥ ì˜ ì–´ìš¸ë¦¬ëŠ” ë°ì´í„° ë„êµ¬

ì˜ˆ:
```python
df = pd.read_csv("population.csv")
df[df["ì—°ë„"] ==2022]
```
---
ğŸ”¹ requests
	íŒŒì´ì¬ìœ¼ë¡œ ì™¸ë¶€ ì‚¬ì´íŠ¸/APIì— ë°ì´í„° ìš”ì²­
- ê³µê³µë°ì´í„° API
- ë‚ ì”¨/ë¯¸ì„¸ë¨¼ì§€/êµí†µ ë°ì´í„°
- ë‚˜ì¤‘ì— ì‹¤ì‹œê°„ ê´€ì œ ë°ì´í„° ì—°ê²°í•  ë•Œ ì‚¬ìš©

ì˜ˆ:
```python
response = requests.get(url)
data = response.json()
```
---
ğŸ”¹ python-dotenv
	ì¤‘ìš”í•œ í‚¤ë¥¼ ì½”ë“œ ë°–ìœ¼ë¡œ ë¹¼ëŠ” ì•ˆì „ì¥ì¹˜
- API KEYë¥¼ ì½”ë“œì— ì§ì ‘ ì“°ë©´ âŒ
- `.env` íŒŒì¼ì— ì €ì¥í•´ì„œ ê´€ë¦¬

ì˜ˆ:
```
API_KEY=abc123
```

```python
import os
api_key = os.getenv("API_KEY")
```
---
### ì„ íƒ(í™•ì¥) ë¼ì´ë¸ŒëŸ¬ë¦¬

ì„ íƒ íŒ¨í‚¤ì§€ (ì„ íƒ ê³¼ì œ or í™•ì¥ ê¸°ëŠ¥ ì‹œ)
```bash
pip install matplotlib plotly folium
```

### ì–¸ì œ ì“°ëŠ”ê°€?
| ë¼ì´ë¸ŒëŸ¬ë¦¬          | í•œ ì¤„ ì„¤ëª…        | ì´ëŸ´ ë•Œ ì‚¬ìš©        |
| -------------- | ------------- | -------------- |
| **matplotlib** | ì •ë°€í•œ ì°¨íŠ¸ ê·¸ë¦¬ê¸°    | ìƒ‰Â·ì¶•Â·ì£¼ì„ ì„¸ë°€ ì¡°ì •   |
| **plotly**     | ì›€ì§ì´ëŠ” ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ | ì¤Œ/íˆ´íŒ/ë§ˆìš°ìŠ¤ ë°˜ì‘    |
| **folium**     | ì§€ë„ ìœ„ì— ë°ì´í„° í‘œì‹œ  | ì§€ì—­Â·ì¢Œí‘œ ê¸°ë°˜ ê´€ì œ í™”ë©´ |

---
ğŸ”¹ matplotlib
	ê°€ì¥ ê¸°ë³¸ì ì¸ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ë§‰ëŒ€/ì„ /ì› ê·¸ë˜í”„
- ì»¤ìŠ¤í„°ë§ˆì´ì§• ììœ ë„ ë†’ìŒ

ë‹¨ì :
- ì¸í„°ë™ì…˜(ì¤Œ/í´ë¦­)ì€ ì•½í•¨

---
ğŸ”¹ plotly
	ë§ˆìš°ìŠ¤ë¡œ ë§Œì§€ëŠ” ì°¨íŠ¸
- í™•ëŒ€/ì¶•ì†Œ
- ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ìˆ˜ì¹˜ í‘œì‹œ
- ë°œí‘œÂ·ë°ëª¨ìš©ìœ¼ë¡œ ë§¤ìš° ì¢‹ìŒ

Streamlitê³¼ ê¶í•© ğŸ‘

---
ğŸ”¹ folium
	ì§€ë„ ìœ„ì— ì /ì˜ì—­ í‘œì‹œ
- ì§€ë„ + ì¢Œí‘œ ë°ì´í„°
- ê´€ì œ, ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ì— í•„ìˆ˜

ì˜ˆ:
- ë„ì‹œë³„ ìœ„í—˜ ì§€ì—­
- ì„¼ì„œ ìœ„ì¹˜ í‘œì‹œ


---
# 3. `app.py` íŒŒì¼ ë§Œë“¤ê¸°

ì´ íŒŒì¼ì´ í•˜ëŠ” ì¼:
	CSV ë°ì´í„°ë¥¼ ì½ì–´ â†’ ì‚¬ì´ë“œë°”ì—ì„œ í•„í„° ì¡°ê±´ì„ ë°›ê³  â†’ íƒ­ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆ„ê³  â†’ í‘œ/ì°¨íŠ¸/ì§€í‘œë¥¼ ë³´ì—¬ì£¼ëŠ” ë¯¸ë‹ˆ ê´€ì œ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“ ë‹¤.

í™”ë©´ êµ¬ì„±(ì‚¬ìš©ìê°€ ë³´ê²Œ ë  UI)
- ì™¼ìª½ ì‚¬ì´ë“œë°”: ì—°ë„ ì„ íƒ / ë„ì‹œ ì„ íƒ / ì •ë ¬ / ê´€ì œ ì„ê³„ì¹˜(ê²½ê³  ê¸°ì¤€)ì„¤ì •
- ë©”ì¸ í™”ë©´ íƒ­ 3ê°œ
    1. ë°ì´í„°: ì›ë³¸/í•„í„° ê²°ê³¼ í‘œ
    2. ì°¨íŠ¸Â·ì§€í‘œ: bar/line + metric ì¹´ë“œ
    3. ê´€ì œ(ê²½ê³ ): ì„ê³„ì¹˜ ë„˜ëŠ” ë„ì‹œë§Œ ë¹¨ê°„ ê²½ê³ ë¡œ ë³´ì—¬ì£¼ê¸°
---
ê°œë°œìˆœì„œ:
1. í™”ë©´ì´ ëœ¬ë‹¤(ë¼ˆëŒ€)
2. CSVë¥¼ ì½ì–´ì„œ í‘œê°€ ëœ¬ë‹¤
3. ì‚¬ì´ë“œë°”ì—ì„œ í•„í„°ë¥¼ ëˆ„ë¥´ë©´ í‘œê°€ ë°”ë€ë‹¤
4. íƒ­ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆˆë‹¤
5. ì°¨íŠ¸/Metricì„ ë¶™ì¸ë‹¤
6. ì„ê³„ì¹˜ ê¸°ë°˜ â€œê²½ê³  ê´€ì œâ€ë¥¼ ë§Œë“ ë‹¤
---
## 1. í™”ë©´ì´ ëœ¬ë‹¤(ë¼ˆëŒ€)

#### Step 1. â€œë¼ˆëŒ€ë§Œâ€ ë§Œë“¤ê¸° (ê°€ì¥ ë‹¨ìˆœ)
	ëª©ì : Streamlit ì•±ì´ ëœ¨ëŠ”ì§€ í™•ì¸ (ì§€ê¸ˆ ë‹¨ê³„ì—ì„œ ë°ì´í„°/í•„í„° ì—†ìŒ)

`app.py` : 
```python
import streamlit as st

# 1) í˜ì´ì§€ ì„¤ì • (ê°€ì¥ ìœ„ì—ì„œ 1ë²ˆë§Œ)
# í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • (íƒ­ ì œëª©, ë ˆì´ì•„ì›ƒ ë“±)
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",  # ë¸Œë¼ìš°ì € íƒ­ ì œëª©
    layout="wide"                    # í™”ë©´ì„ ë„“ê²Œ ì“°ê¸°
)

# 2) ì œëª©/ì„¤ëª… (í™”ë©´ì— í…ìŠ¤íŠ¸ë§Œ ì¶œë ¥)
# í™”ë©´ ìƒë‹¨ ì œëª©
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")

# ë¶€ì œ / ì„¤ëª…
st.write("Streamlitìœ¼ë¡œ ë§Œë“œëŠ” ë‚˜ë§Œì˜ ì²« ì›¹ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.")

# ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ì¶œë ¥
st.write("ì´ í™”ë©´ì€ íŒŒì´ì¬ ì½”ë“œë¡œ ë§Œë“¤ì–´ì§„ ì›¹ í˜ì´ì§€ì…ë‹ˆë‹¤.")
```

ì‹¤í–‰
```bash
uv run streamlit run app.py
```

![[Pasted image 20251222201151.png]]
ì´ë ‡ê²Œ ë³´ì´ë©´ ì„±ê³µ

---
#### Step 2. CSV ì—°ê²° â†’ í‘œ ë„ìš°ê¸° (ë°ì´í„° íë¦„ ì²´ê°)
	ëª©ì : CSV â†’ DataFrame â†’ í™”ë©´ì— í‘œì‹œ ê²½í—˜

`app.py` (Step 1ì— ì¶”ê°€/êµì²´)
```python
import streamlit as st
import pandas as pd   # â­ [ì¶”ê°€] CSVë¥¼ ì½ê³  í‘œ(DataFrame)ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ pandas í•„ìš”

# ============================
# 1) í˜ì´ì§€ ê¸°ë³¸ ì„¤ì •
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    layout="wide",
    page_icon="ğŸ™ï¸"   # â­ [ì¶”ê°€] ë¸Œë¼ìš°ì € íƒ­ì— ì•„ì´ì½˜ í‘œì‹œ (ê¸°ëŠ¥ì—” ì˜í–¥ ì—†ìŒ, UI ê°œì„ )
)

# ============================
# 2) ì œëª© / ì„¤ëª…
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")

# â­ [ìˆ˜ì •]
# ê¸°ì¡´: "Streamlitìœ¼ë¡œ ë§Œë“œëŠ” ë‚˜ë§Œì˜ ì²« ì›¹ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤."
# ë³€ê²½ ì´ìœ : ì§€ê¸ˆ ë‹¨ê³„ê°€ 'CSV ì½ê¸°'ë¼ëŠ” ê±¸ ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ ì•Œë¦¬ê¸° ìœ„í•´
st.write("Step 2: CSV ë°ì´í„°ë¥¼ ì½ì–´ì„œ í‘œë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.")

# ============================
# 3) CSV ë°ì´í„° ë¡œë“œ
# ============================

# â­ [ì¶”ê°€]
# pandasë¥¼ ì´ìš©í•´ data/population.csv íŒŒì¼ì„ ì½ì–´ DataFrameìœ¼ë¡œ ë³€í™˜
# â†’ ì´ í•œ ì¤„ì´ 'íŒŒì¼ â†’ íŒŒì´ì¬ ë©”ëª¨ë¦¬'ë¡œ ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ëŠ” í•µì‹¬ ì§€ì 
df = pd.read_csv("data/population.csv")

# ============================
# 4) ë°ì´í„° ì¶œë ¥
# ============================

# â­ [ì¶”ê°€]
# í™”ë©´ì— 'ì›ë³¸ ë°ì´í„°'ë¼ëŠ” ì†Œì œëª©ì„ í‘œì‹œ
st.subheader("ğŸ“‘ ì›ë³¸ ë°ì´í„°")

# â­ [ì¶”ê°€]
# DataFrameì„ ì›¹ í…Œì´ë¸” í˜•íƒœë¡œ ì¶œë ¥
# use_container_width=True:
# â†’ í™”ë©´ ê°€ë¡œí­ì— ë§ê²Œ í‘œë¥¼ ìë™ìœ¼ë¡œ ëŠ˜ë ¤ì„œ ë³´ì—¬ì¤Œ
st.dataframe(df, use_container_width=True)
```
	í™•ì¸: í…Œì´ë¸”ì´ í™”ë©´ì— ë³´ì´ë©´ OK

![[Pasted image 20251222201709.png]]

---
#### Step 3. ì‚¬ì´ë“œë°” í•„í„°(ì—°ë„/ë„ì‹œ) â†’ í‘œê°€ ë°”ë€Œê²Œ ë§Œë“¤ê¸°
	ëª©ì : ìœ„ì ¯ ì…ë ¥ â†’ ì¡°ê±´ â†’ df í•„í„°ë§ â†’ í™”ë©´ ë°˜ì˜ íŒ¨í„´ ì´í•´

`app.py`
```python
import streamlit as st
import pandas as pd

# ============================
# 1) í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • (ë³€ê²½ ì—†ìŒ)
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    layout="wide",
    page_icon="ğŸ™ï¸"
)

# ============================
# 2) ì œëª© / ë‹¨ê³„ ì„¤ëª…
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")

# â­ [ìˆ˜ì •]
# ê¸°ì¡´ Step 2ì—ì„œëŠ” "CSV ë°ì´í„°ë¥¼ í‘œë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤"
# â†’ Step 3ì—ì„œëŠ” 'ì‚¬ì´ë“œë°” í•„í„°ë¡œ ë°ì´í„°ê°€ ë°”ë€ë‹¤'ëŠ” ëª©ì ì„ ëª…í™•íˆ ì•Œë¦¬ê¸° ìœ„í•´ ë¬¸êµ¬ ë³€ê²½
st.write("Step 3: ì‚¬ì´ë“œë°” í•„í„°ë¡œ ë°ì´í„°ë¥¼ ì¤„ì—¬ë´…ë‹ˆë‹¤.")

# ============================
# 3) CSV ë°ì´í„° ë¡œë“œ (ë³€ê²½ ì—†ìŒ)
# ============================
df = pd.read_csv("data/population.csv")

# ============================
# 4) ì‚¬ì´ë“œë°” ì…ë ¥ UI (â­ Step 3ì˜ í•µì‹¬ ì¶”ê°€)
# ============================

# â­ [ì¶”ê°€]
# ì™¼ìª½ ì‚¬ì´ë“œë°” ì˜ì—­ì— 'í•„í„°' ì„¹ì…˜ ìƒì„±
# â†’ ë©”ì¸ í™”ë©´ê³¼ 'ì…ë ¥ ì˜ì—­'ì„ ì‹œê°ì ìœ¼ë¡œ ë¶„ë¦¬
st.sidebar.header("ğŸ” í•„í„°")

# â­ [ì¶”ê°€]
# ë°ì´í„°ì— ë“¤ì–´ ìˆëŠ” ì—°ë„/ë„ì‹œ ëª©ë¡ì„ ë¯¸ë¦¬ ì¤€ë¹„
# unique(): ì¤‘ë³µ ì œê±°
# sorted(): ë³´ê¸° ì¢‹ê²Œ ì •ë ¬
years = sorted(df["ì—°ë„"].unique())
cities = sorted(df["ë„ì‹œ"].unique())

# â­ [ì¶”ê°€]
# ì—°ë„ëŠ” í•˜ë‚˜ë§Œ ì„ íƒ â†’ selectbox ì‚¬ìš©
selected_year = st.sidebar.selectbox(
    "ì—°ë„ ì„ íƒ",
    years
)

# â­ [ì¶”ê°€]
# ë„ì‹œëŠ” ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥ â†’ multiselect ì‚¬ìš©
# default=cities:
# â†’ ì²˜ìŒ ì—´ì—ˆì„ ë•Œ 'ì „ì²´ ë„ì‹œ ì„ íƒ ìƒíƒœ'ë¡œ ì‹œì‘
selected_cities = st.sidebar.multiselect(
    "ë„ì‹œ ì„ íƒ",
    cities,
    default=cities
)

# ============================
# 5) í•„í„°ë§ ì²˜ë¦¬ ë¡œì§ (â­ Step 3ì˜ í•µì‹¬)
# ============================

# â­ [ì¶”ê°€]
# ì‚¬ì´ë“œë°”ì—ì„œ ì„ íƒí•œ ê°’ìœ¼ë¡œ DataFrameì„ ì¤„ì„
# ì¡°ê±´ 1: ì„ íƒí•œ ì—°ë„ë§Œ ë‚¨ê¸´ë‹¤
# ì¡°ê±´ 2: ì„ íƒí•œ ë„ì‹œë§Œ ë‚¨ê¸´ë‹¤
# & ë¡œ ë‘ ì¡°ê±´ì„ ë™ì‹œì— ë§Œì¡±í•˜ëŠ” í–‰ë§Œ ì¶”ì¶œ
filtered = df[
    (df["ì—°ë„"] == selected_year) &
    (df["ë„ì‹œ"].isin(selected_cities))
]

# ============================
# 6) í™”ë©´ ì¶œë ¥ (í•„í„° ê²°ê³¼ í‘œì‹œ)
# ============================

st.subheader("ğŸ¯ í•„í„° ê²°ê³¼")

# â­ [ì¶”ê°€]
# í˜„ì¬ ì‚¬ìš©ìê°€ ì–´ë–¤ ì¡°ê±´ì„ ì„ íƒí–ˆëŠ”ì§€ í•œ ì¤„ë¡œ ë³´ì—¬ì¤Œ
# â†’ ëŒ€ì‹œë³´ë“œì—ì„œ 'í˜„ì¬ ìƒíƒœ í‘œì‹œ'ëŠ” ë§¤ìš° ì¤‘ìš”
st.caption(
    f"í˜„ì¬ ì„ íƒ: ì—°ë„={selected_year}, ë„ì‹œ={len(selected_cities)}ê°œ"
)

# â­ [ìˆ˜ì •]
# ê¸°ì¡´ì—ëŠ” df(ì „ì²´ ë°ì´í„°)ë¥¼ ë³´ì—¬ì¤¬ë‹¤ë©´
# â†’ ì´ì œëŠ” filtered(í•„í„°ë§ëœ ê²°ê³¼)ë¥¼ ë³´ì—¬ì¤Œ
st.dataframe(filtered, use_container_width=True)
```
	í™•ì¸: ì‚¬ì´ë“œë°”ì—ì„œ ì—°ë„/ë„ì‹œë¥¼ ë°”ê¾¸ë©´ í‘œê°€ ë°”ë€Œë©´ OK

![[Pasted image 20251222202037.png]]

---
#### Step 4. íƒ­ìœ¼ë¡œ í™”ë©´ ë¶„ë¦¬ (ë°ì´í„° íƒ­ / ì°¨íŠ¸ íƒ­)
	ëª©ì : í™”ë©´ì„ ë‚˜ëˆ„ëŠ” ê°ê° ë¨¼ì € ì¡ê¸° (ì°¨íŠ¸ëŠ” ë‹¤ìŒ ë‹¨ê³„)
	í™”ë©´ì„ í•œ í˜ì´ì§€ì—ì„œ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ„ë˜ ë°©ì‹ â†’ íƒ­ìœ¼ë¡œ í™”ë©´ì„ ë¶„ë¦¬í•˜ëŠ” ë°©ì‹

`app.py`
```python
import streamlit as st
import pandas as pd

# ============================
# 1) í˜ì´ì§€ ì„¤ì • (Step 3ê³¼ ë™ì¼)
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    layout="wide",
    page_icon="ğŸ™ï¸"
)

# ============================
# 2) ì œëª© / ë‹¨ê³„ ì•ˆë‚´ ë¬¸êµ¬
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")

# âœ… [ìˆ˜ì •]
# Step 3ì—ì„œëŠ” "ì‚¬ì´ë“œë°” í•„í„°ë¡œ ë°ì´í„°ë¥¼ ì¤„ì—¬ë´…ë‹ˆë‹¤." ì˜€ê³ 
# Step 4ì—ì„œëŠ” "íƒ­ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆ•ë‹ˆë‹¤." ë¡œ ë³€ê²½
# â†’ ì§€ê¸ˆ ë‹¨ê³„ì˜ ëª©í‘œ(íƒ­ ë¶„ë¦¬)ë¥¼ ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ ì•Œë ¤ì£¼ê¸° ìœ„í•¨
st.write("Step 4: íƒ­ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆ•ë‹ˆë‹¤.")

# ============================
# 3) CSV ë¡œë“œ (Step 3ê³¼ ë™ì¼)
# ============================
df = pd.read_csv("data/population.csv")

# ============================
# 4) ì‚¬ì´ë“œë°” í•„í„° UI (Step 3ê³¼ ë™ì¼)
# ============================
st.sidebar.header("ğŸ” í•„í„°")

years = sorted(df["ì—°ë„"].unique())
cities = sorted(df["ë„ì‹œ"].unique())

selected_year = st.sidebar.selectbox("ì—°ë„ ì„ íƒ", years)
selected_cities = st.sidebar.multiselect("ë„ì‹œ ì„ íƒ", cities, default=cities)

# ============================
# 5) í•„í„°ë§ ì²˜ë¦¬ (Step 3ê³¼ ë™ì¼)
# ============================
filtered = df[
    (df["ì—°ë„"] == selected_year) &
    (df["ë„ì‹œ"].isin(selected_cities))
]

# ============================
# 6) íƒ­(Tab)ìœ¼ë¡œ í™”ë©´ ë¶„ë¦¬ (â­ Step 4 í•µì‹¬ ì¶”ê°€!)
# ============================

# âœ… [ì¶”ê°€]
# Step 3ê¹Œì§€ëŠ” í™”ë©´ì´ "í•œ í˜ì´ì§€"ì—ì„œ ì´ì–´ì§€ëŠ” êµ¬ì¡°ì˜€ìŒ
# Step 4ë¶€í„°ëŠ” í™”ë©´ì„ "íƒ­ ë²„íŠ¼"ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ë³´ì—¬ì¤Œ
# â†’ ë°ì´í„° / ì°¨íŠ¸ / ê´€ì œ ê°™ì€ í™”ë©´ì„ ê¸°ëŠ¥ë³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆì–´
# â†’ ì‚¬ìš©ì ì…ì¥ì—ì„œ í›¨ì”¬ "ëŒ€ì‹œë³´ë“œ"ì²˜ëŸ¼ ë³´ì´ê²Œ ë¨
tab1, tab2 = st.tabs(["ğŸ“‘ ë°ì´í„°", "ğŸ“ˆ ì°¨íŠ¸(ë‹¤ìŒ ë‹¨ê³„)"])

# ============================
# 7) íƒ­ 1: ë°ì´í„° í™”ë©´ (â­ ì¶œë ¥ ìœ„ì¹˜ê°€ ë°”ë€œ)
# ============================

# âœ… [ìˆ˜ì •/ì´ë™]
# Step 3ì—ì„œëŠ” st.dataframe(filtered)ê°€ "ê·¸ëƒ¥ ë©”ì¸ í™”ë©´ì— ë°”ë¡œ" ì¶œë ¥ëëŠ”ë°
# Step 4ì—ì„œëŠ” "ë°ì´í„° íƒ­(tab1) ì•ˆì—ì„œë§Œ" ë³´ì´ë„ë¡ ìœ„ì¹˜ë¥¼ ì˜®ê¹€
# â†’ íƒ­ì„ ëˆ„ë¥¸ ì‚¬ëŒì—ê²Œë§Œ í•´ë‹¹ í™”ë©´ì„ ë³´ì—¬ì£¼ëŠ” êµ¬ì¡°ë¡œ ë³€ê²½
with tab1:
    st.subheader("ğŸ“‘ ë°ì´í„° íƒ­")
    st.dataframe(filtered, use_container_width=True)

# ============================
# 8) íƒ­ 2: ì°¨íŠ¸ í™”ë©´ (í˜„ì¬ëŠ” ë¼ˆëŒ€ë§Œ)
# ============================

# âœ… [ì¶”ê°€]
# Step 4ëŠ” "íƒ­ ë¶„ë¦¬"ê°€ ëª©ì ì´ë¼
# ì°¨íŠ¸ íƒ­ì€ ì•„ì§ ì‹¤ì œ ì°¨íŠ¸ê°€ ì•„ë‹ˆë¼ ì•ˆë‚´ë¬¸ë§Œ ë„£ì–´ë‘ 
# Step 5ì—ì„œ st.bar_chart, st.metric ë“±ì„ ì—¬ê¸°ì— ë¶™ì¼ ì˜ˆì •
with tab2:
    st.subheader("ğŸ“ˆ ì°¨íŠ¸ íƒ­")
    st.info("Step 5ì—ì„œ ì°¨íŠ¸/ì§€í‘œë¥¼ ë¶™ì¼ ì˜ˆì •ì…ë‹ˆë‹¤.")
```
	í™•ì¸: íƒ­ì´ ìƒê¸°ê³ , ë°ì´í„° íƒ­ì— í‘œê°€ ë‚˜ì˜¤ë©´ OK

ì—¬ê¸°ê¹Œì§€ê°€ â€œë¼ˆëŒ€ + í•µì‹¬ íë¦„â€ì…ë‹ˆë‹¤
ì§€ê¸ˆ ë‹¨ê³„ì—ì„œ ì´í•´í•´ì•¼ í•˜ëŠ” ê±´ ë”± ì´ 3ê°œì˜ˆìš”:
1. Streamlitì€ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì‹¤í–‰ëœë‹¤
2. ìœ„ì ¯ ê°’ì´ ë°”ë€Œë©´ ì „ì²´ê°€ ë‹¤ì‹œ ì‹¤í–‰ëœë‹¤
3. ê·¸ë˜ì„œ `ì…ë ¥(ìœ„ì ¯) â†’ ì²˜ë¦¬(í•„í„°) â†’ ì¶œë ¥(í‘œ/ì°¨íŠ¸)` êµ¬ì¡°ë¡œ ì§ ë‹¤

![[Pasted image 20251222202353.png]]

---
## 2. CSVë¥¼ ì½ì–´ì„œ í‘œê°€ ëœ¬ë‹¤(CSV â†’ DataFrame â†’ Streamlit í‘œ)
	âš ï¸ ì´ ë‹¨ê³„ëŠ” ì´ë¯¸ ì•ì—ì„œ êµ¬í˜„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

Step 2ì—ì„œ ìš°ë¦¬ê°€ í™•ì¸í•˜ë ¤ë˜ ê±´ ë”± ì´ê²ƒë¿ì…ë‹ˆë‹¤ ğŸ‘‡
ëª©í‘œ
- `data/population.csv` íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€
- `pd.read_csv()`ë¡œ DataFrame(df)ì´ ë§Œë“¤ì–´ì§€ëŠ”ì§€
- `st.dataframe(df)`ë¡œ í‘œê°€ í™”ë©´ì— ëœ¨ëŠ”ì§€
    
---
## 3. ì‚¬ì´ë“œë°” í•„í„°ë¥¼ ëˆ„ë¥´ë©´ í‘œê°€ ë°”ë€ë‹¤

ëª©í‘œ
- ì™¼ìª½ ì‚¬ì´ë“œë°”ì— ì—°ë„ ì„ íƒ(selectbox), ë„ì‹œ ì„ íƒ(multiselect) ìœ„ì ¯ì´ ë³´ì¸ë‹¤
- ìœ„ì ¯ ì„ íƒê°’ì´ ë°”ë€Œë©´ ë©”ì¸ í™”ë©´ì˜ í‘œê°€ ìë™ìœ¼ë¡œ ë°”ë€ë‹¤
- í•µì‹¬ íŒ¨í„´ì„ ì²´ê°í•œë‹¤:
    
ì…ë ¥(ìœ„ì ¯) â†’ ì²˜ë¦¬(í•„í„°ë§) â†’ ì¶œë ¥(í‘œ)

í˜„ì¬ ìƒíƒœ
ì´ì „ ë‹¨ê³„ì—ì„œ ì´ë¯¸ í–ˆë˜ ê²ƒ:
- `data/population.csv`ê°€ ìˆë‹¤
- `app.py`ê°€ CSVë¥¼ ì½ì–´ì„œ `st.dataframe(df)`ë¡œ í‘œë¥¼ ë³´ì—¬ì¤€ë‹¤
    
ë¨¼ì € ì‹¤í–‰ í™•ì¸(ì„ íƒ):
```bash
uv run streamlit run app.py
```
---
app.pyì— ì‚¬ì´ë“œë°” í•„í„° UI ì¶”ê°€í•˜ê¸°
	ì§€ê¸ˆ ë‹¨ê³„ëŠ” â€œì •ë ¬/íƒ­/ì°¨íŠ¸/ê²½ê³ â€ëŠ” ì•„ì§ ì•ˆ í•©ë‹ˆë‹¤.  
	ì˜¤ì§ â€œí•„í„°â€ë§Œ í•´ì„œ í‘œê°€ ë°”ë€ŒëŠ” ê²½í—˜ì„ ë§Œë“­ë‹ˆë‹¤.
```python
import streamlit as st
import pandas as pd

# ============================
# 1) í˜ì´ì§€ ì„¤ì •
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    page_icon="ğŸ™ï¸",
    layout="wide",
)

# ============================
# 2) ì œëª©/ì„¤ëª…
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")
st.write("Step 3: ì‚¬ì´ë“œë°” í•„í„°(ì—°ë„/ë„ì‹œ)ë¥¼ ë°”ê¾¸ë©´ í‘œê°€ ë°”ë¡œ ë°”ë€ë‹ˆë‹¤.")

# ============================
# 3) CSV ë¡œë“œ
# ============================
df = pd.read_csv("data/population.csv")

# âœ… [ì¶”ê°€] íƒ€ì… ì•ˆì •í™” (CSVì— ë”°ë¼ ë¬¸ìì—´ë¡œ ì½íˆëŠ” ê²½ìš° ëŒ€ë¹„)
df["ì—°ë„"] = pd.to_numeric(df["ì—°ë„"], errors="coerce").astype("Int64")
df["ì¸êµ¬ìˆ˜"] = pd.to_numeric(df["ì¸êµ¬ìˆ˜"], errors="coerce")

# ============================
# 4) ì‚¬ì´ë“œë°”(ì…ë ¥ UI)  âœ… (ë²„íŠ¼ ì—†ìŒ: ë°”ê¾¸ë©´ ì¦‰ì‹œ ë°˜ì˜)
# ============================
st.sidebar.header("ğŸ” í•„í„°")

years = sorted(df["ì—°ë„"].dropna().unique())
cities = sorted(df["ë„ì‹œ"].dropna().unique())

selected_year = st.sidebar.selectbox("ì—°ë„ ì„ íƒ", years)

selected_cities = st.sidebar.multiselect(
    "ë„ì‹œ ì„ íƒ (ì—¬ëŸ¬ ê°œ ê°€ëŠ¥)",
    options=cities,
    default=cities
)

# ============================
# 5) í•„í„°ë§(ì²˜ë¦¬ ë¡œì§)
# ============================
filtered = df[
    (df["ì—°ë„"] == selected_year) &
    (df["ë„ì‹œ"].isin(selected_cities))
]

# ============================
# 6) ì¶œë ¥(í™”ë©´)
# ============================
st.caption(f"í˜„ì¬ ì„ íƒ: ì—°ë„={selected_year}, ë„ì‹œ={len(selected_cities)}ê°œ")

# âœ… [ìˆ˜ì •] ì›ë³¸ ë°ì´í„°ëŠ” ì ‘ì–´ë‘ê¸° (í˜¼ë€ ë°©ì§€)
with st.expander("ğŸ“‘ ì›ë³¸ ë°ì´í„° ë³´ê¸°(ì°¸ê³ ìš©)", expanded=False):
    st.dataframe(df, use_container_width=True)

st.subheader("ğŸ¯ í•„í„° ê²°ê³¼ ë°ì´í„°")
if filtered.empty:
    st.warning("ì„ íƒí•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” ì¡°ê±´ì„ ë°”ê¿”ë³´ì„¸ìš”.")
else:
    st.dataframe(filtered, use_container_width=True)
```

ì‹¤í–‰
```bash
uv run streamlit run app.py
```
	ë¸Œë¼ìš°ì €: http://localhost:8501

![[Pasted image 20251222210349.png]]

í™•ì¸ í¬ì¸íŠ¸(í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸)
ì‚¬ì´ë“œë°”ì— ë³´ì´ëŠ”ì§€ í™•ì¸
- `ì—°ë„ ì„ íƒ` ë“œë¡­ë‹¤ìš´ì´ ë³´ì¸ë‹¤
- `ë„ì‹œ ì„ íƒ` ì²´í¬ë°•ìŠ¤ ë¦¬ìŠ¤íŠ¸ê°€ ë³´ì¸ë‹¤
    
í‘œê°€ ë°”ë€ŒëŠ”ì§€ í™•ì¸
1. ì—°ë„ë¥¼ 2020 â†’ 2022ë¡œ ë°”ê¿”ë³¸ë‹¤
2. ë„ì‹œ ì²´í¬ë¥¼ 1ê°œë§Œ ë‚¨ê²¨ë³¸ë‹¤(ì˜ˆ: ì„œìš¸ë§Œ)
3. ë©”ì¸ í™”ë©´ì˜ í•„í„° ê²°ê³¼ ë°ì´í„°ê°€ ë°”ë¡œ ë°”ë€Œë©´ ì„±ê³µ
    
Streamlitì€ ìœ„ì ¯ ê°’ì´ ë°”ë€Œë©´ ìë™ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©´ì„œ í™”ë©´ì´ ê°±ì‹ ë©ë‹ˆë‹¤.

---
## 4. íƒ­(Tab)ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆˆë‹¤

ëª©í‘œ
- í™”ë©´ ìƒë‹¨ì— íƒ­ 2~3ê°œê°€ ë³´ì¸ë‹¤
- íƒ­ì„ í´ë¦­í•˜ë©´ í™”ë©´ ë‚´ìš©ì´ ë°”ë€ë‹¤
- ì¤‘ìš”í•œ í¬ì¸íŠ¸:
    - í•„í„°ë§ì€ 1ë²ˆë§Œ í•˜ê³ 
    - ê·¸ ê²°ê³¼(filtered)ë¥¼ íƒ­ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë³´ì—¬ì¤€ë‹¤
        
ì™œ íƒ­ì„ ì“°ë‚˜ìš”?
	í•œ í™”ë©´ì— í‘œ/ì°¨íŠ¸/ê²½ê³ ë¥¼ ë‹¤ ë•Œë ¤ ë„£ìœ¼ë©´ ë³µì¡í•´ì ¸ìš”.  
	ì‹¤ë¬´ ëŒ€ì‹œë³´ë“œëŠ” ë³´í†µ ëª©ì ë³„ë¡œ í™”ë©´ì„ ë‚˜ëˆ•ë‹ˆë‹¤:
- ë°ì´í„° íƒ­: ì›ë³¸/í•„í„° ê²°ê³¼ë¥¼ í‘œë¡œ í™•ì¸
- ì°¨íŠ¸ íƒ­: ê·¸ë˜í”„ë¡œ ë¹ ë¥´ê²Œ ì¶”ì„¸/ë¹„êµ
- ê´€ì œ íƒ­: ê²½ê³ ë§Œ ë½‘ì•„ì„œ ìš°ì„  í™•ì¸
    
ì˜¤ëŠ˜ì€ ë¨¼ì € íƒ­ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë¼ˆëŒ€ë¶€í„° ë§Œë“¤ê³ , ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì°¨íŠ¸/ê²½ê³ ë¥¼ ë¶™ì…ë‹ˆë‹¤.

---
app.py ìˆ˜ì •
ì´ ì½”ë“œëŠ” **Step 3(í•„í„°)** ë¥¼ ìœ ì§€í•˜ê³ , ì¶œë ¥ ë¶€ë¶„ë§Œ íƒ­ êµ¬ì¡°ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
```python
import streamlit as st
import pandas as pd

# =========================================================
# âœ… Step 4 ì „ì²´ ì½”ë“œ (Step 3 ìœ ì§€ + "ì¶œë ¥ ë¶€ë¶„"ì„ íƒ­ìœ¼ë¡œ ë¶„ë¦¬)
# ---------------------------------------------------------
# í•µì‹¬ ë³€í™” ìš”ì•½
# - Step 3ê¹Œì§€: í•„í„° ê²°ê³¼ë¥¼ "ë©”ì¸ í™”ë©´ì— ë°”ë¡œ" ì¶œë ¥
# - Step 4ë¶€í„°: í•„í„°ëŠ” 1ë²ˆë§Œ í•˜ê³ (filtered),
#              ì¶œë ¥ì€ íƒ­(tab_data / tab_chart / tab_monitor) ì•ˆì—ì„œ ë¶„ë¦¬
# =========================================================


# ============================
# 1) í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • (Step 3ê³¼ ë™ì¼)
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    page_icon="ğŸ™ï¸",
    layout="wide",
)

# ============================
# 2) ì œëª©/ì„¤ëª… (âœ… Step 3 ë¬¸êµ¬ì—ì„œ Step 4 ë¬¸êµ¬ë¡œ ìˆ˜ì •)
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")

# âœ… [ìˆ˜ì •] Step 3 â†’ Step 4 ë‹¨ê³„ ì•ˆë‚´ ë¬¸êµ¬ ë³€ê²½
# - Step 3: "ì‚¬ì´ë“œë°” í•„í„°(ì—°ë„/ë„ì‹œ)ë¥¼ ëˆ„ë¥´ë©´ í‘œê°€ ë°”ë€ë‹ˆë‹¤."
# - Step 4: "íƒ­(Tab)ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆ•ë‹ˆë‹¤. (ë°ì´í„°/ì°¨íŠ¸/ê´€ì œ)"
# ğŸ‘‰ ì´ìœ : ì§€ê¸ˆ ë‹¨ê³„ì˜ ëª©í‘œê°€ "íƒ­ ë¶„ë¦¬"ì´ê¸° ë•Œë¬¸
st.write("Step 4: íƒ­(Tab)ìœ¼ë¡œ í™”ë©´ì„ ë‚˜ëˆ•ë‹ˆë‹¤. (ë°ì´í„°/ì°¨íŠ¸/ê´€ì œ)")

# ============================
# 3) CSV ë¡œë“œ (Step 3ê³¼ ë™ì¼)
# ============================
df = pd.read_csv("data/population.csv")

# ============================
# 4) ì‚¬ì´ë“œë°”(ì…ë ¥ UI) (Step 3ê³¼ ë™ì¼)
# ============================
st.sidebar.header("ğŸ” í•„í„°")

years = sorted(df["ì—°ë„"].unique())
cities = sorted(df["ë„ì‹œ"].unique())

selected_year = st.sidebar.selectbox("ì—°ë„ ì„ íƒ", years)
selected_cities = st.sidebar.multiselect(
    "ë„ì‹œ ì„ íƒ (ì—¬ëŸ¬ ê°œ ê°€ëŠ¥)",
    options=cities,
    default=cities
)

# ============================
# 5) í•„í„°ë§(ì²˜ë¦¬) (Step 3ê³¼ ë™ì¼)
# ============================
# âœ… [ì¤‘ìš” í¬ì¸íŠ¸] í•„í„°ë§ì€ "ë”± 1ë²ˆë§Œ" ìˆ˜í–‰í•˜ê³ , ê·¸ ê²°ê³¼(filtered)ë¥¼ íƒ­ë§ˆë‹¤ ì¬ì‚¬ìš©
filtered = df[
    (df["ì—°ë„"] == selected_year) &
    (df["ë„ì‹œ"].isin(selected_cities))
]

# âœ… [ìœ ì§€] í˜„ì¬ ì„ íƒ ìƒíƒœë¥¼ í•œ ì¤„ë¡œ í‘œì‹œ (ì‚¬ìš©ì í˜¼ë€ ë°©ì§€)
st.caption(f"í˜„ì¬ ì„ íƒ: ì—°ë„={selected_year}, ë„ì‹œ={len(selected_cities)}ê°œ")

# ============================
# 6) íƒ­ ë§Œë“¤ê¸° (âœ… Step 4 í•µì‹¬ "ì¶”ê°€")
# ============================
# âœ… [ì¶”ê°€] Step 3ê¹Œì§€ëŠ” íƒ­ì´ ì—†ì—ˆìŒ
# ğŸ‘‰ ì´ìœ : í™”ë©´ì„ ëª©ì ë³„ë¡œ ë‚˜ëˆ„ê¸° ìœ„í•´ (ë°ì´í„° / ì°¨íŠ¸ / ê´€ì œ)
tab_data, tab_chart, tab_monitor = st.tabs(
    ["ğŸ“‘ ë°ì´í„°", "ğŸ“ˆ ì°¨íŠ¸(ë‹¤ìŒ ë‹¨ê³„)", "ğŸš¨ ê´€ì œ(ë‹¤ìŒ ë‹¨ê³„)"]
)

# ============================
# 7) íƒ­ë³„ í™”ë©´ ì¶œë ¥ (âœ… Step 4 í•µì‹¬ "ì´ë™/ë¶„ë¦¬")
# ============================

# ---------------------------------------------------------
# (1) ë°ì´í„° íƒ­
# ---------------------------------------------------------
with tab_data:
    st.subheader("ğŸ“‘ ë°ì´í„° íƒ­")

    # âœ… [ì¶”ê°€] ì›ë³¸ ë°ì´í„°ëŠ” í•­ìƒ í¼ì³ë†“ìœ¼ë©´ í™”ë©´ì´ ê¸¸ì–´ì ¸ì„œ ë³µì¡í•´ì§
    # ğŸ‘‰ ì´ìœ : í•„ìš”í•  ë•Œë§Œ ë³´ë„ë¡ expanderë¡œ ì ‘ì–´ë‘ê¸°
    with st.expander("ì›ë³¸ ë°ì´í„° ë³´ê¸°(í¼ì¹˜ê¸°)", expanded=False):
        st.dataframe(df, use_container_width=True)

    # âœ… [ìˆ˜ì •/ì´ë™] Step 3ì—ì„œëŠ” "ë©”ì¸ í™”ë©´ì— ë°”ë¡œ" í•„í„° ê²°ê³¼ë¥¼ ì¶œë ¥í–ˆì§€ë§Œ
    # Step 4ì—ì„œëŠ” "ë°ì´í„° íƒ­ ì•ˆ"ì—ì„œë§Œ ì¶œë ¥í•˜ë„ë¡ ìœ„ì¹˜ ì´ë™
    st.markdown("### ğŸ¯ í•„í„° ê²°ê³¼ ë°ì´í„°")
    if filtered.empty:
        st.warning("ì„ íƒí•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” ì¡°ê±´ì„ ë°”ê¿”ë³´ì„¸ìš”.")
    else:
        st.dataframe(filtered, use_container_width=True)

# ---------------------------------------------------------
# (2) ì°¨íŠ¸ íƒ­ (í˜„ì¬ëŠ” ë¼ˆëŒ€)
# ---------------------------------------------------------
with tab_chart:
    st.subheader("ğŸ“ˆ ì°¨íŠ¸ íƒ­")

    # âœ… [ì¶”ê°€] Step 4 ëª©í‘œëŠ” íƒ­ ë¶„ë¦¬ êµ¬ì¡° ì¡ê¸°ì´ë¯€ë¡œ
    # ì°¨íŠ¸ëŠ” Step 5ì—ì„œ ë¶™ì¼ ì˜ˆì • (ì§€ê¸ˆì€ ì•ˆë‚´ë¬¸ë§Œ)
    st.info("Step 5ì—ì„œ bar/line ì°¨íŠ¸ì™€ Metric(ìš”ì•½ì§€í‘œ)ì„ ë¶™ì…ë‹ˆë‹¤.")
    st.write("ì§€ê¸ˆì€ íƒ­ ë¶„ë¦¬ êµ¬ì¡°ë§Œ ì¡ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.")

# ---------------------------------------------------------
# (3) ê´€ì œ íƒ­ (í˜„ì¬ëŠ” ë¼ˆëŒ€)
# ---------------------------------------------------------
with tab_monitor:
    st.subheader("ğŸš¨ ê´€ì œ(ê²½ê³ ) íƒ­")

    # âœ… [ì¶”ê°€] Step 6ì—ì„œ ì„ê³„ì¹˜ ê¸°ì¤€ ê²½ê³  ë„ì‹œë§Œ ì¶”ë ¤ì„œ ë³´ì—¬ì¤„ ì˜ˆì •
    st.info("Step 6ì—ì„œ ì„ê³„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ê²½ê³  ë„ì‹œë§Œ ë½‘ì•„ ë¹¨ê°„ ë°•ìŠ¤ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.")
    st.write("ì§€ê¸ˆì€ íƒ­ ë¶„ë¦¬ êµ¬ì¡°ë§Œ ì¡ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.")
```

ì‹¤í–‰:
```bash
uv run streamlit run app.py
```
	ë¸Œë¼ìš°ì €: http://localhost:8501

![[Pasted image 20251222210810.png]]

í™•ì¸ í¬ì¸íŠ¸(ì²´í¬ë¦¬ìŠ¤íŠ¸)
1. ìƒë‹¨ì— íƒ­ì´ ë³´ì´ë‚˜ìš”?
	- `ğŸ“‘ ë°ì´í„°`
	- `ğŸ“ˆ ì°¨íŠ¸(ë‹¤ìŒ ë‹¨ê³„)`
	- `ğŸš¨ ê´€ì œ(ë‹¤ìŒ ë‹¨ê³„)`
2. ì‚¬ì´ë“œë°”ì—ì„œ ë„ì‹œ/ì—°ë„ë¥¼ ë°”ê¾¸ë©´
	- ë°ì´í„° íƒ­ì˜ í•„í„° ê²°ê³¼ í‘œê°€ ë°”ë€Œë‚˜ìš”?
3. ì°¨íŠ¸/ê´€ì œ íƒ­ì„ ëˆŒëŸ¬ë„
	- í™”ë©´ì´ ë°”ë€Œë©´ì„œ â€œë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´â€ê°€ ë³´ì´ë‚˜ìš”?
ì´ 3ê°œê°€ ë˜ë©´ Step 4 ì„±ê³µì…ë‹ˆë‹¤.

---
## 5. ì°¨íŠ¸ + Metric(ìš”ì•½ì§€í‘œ) ë¶™ì´ê¸°

ëª©í‘œ
- ğŸ“ˆ ì°¨íŠ¸ íƒ­ì—ì„œ ì•„ë˜ê°€ ë³´ì¸ë‹¤:
    1. Metric 3ê°œ: ì´ ì¸êµ¬ / í‰ê·  ì¸êµ¬ / ìµœëŒ€ ë„ì‹œ
    2. ë§‰ëŒ€ ì°¨íŠ¸(Bar): ë„ì‹œë³„ ì¸êµ¬ ë¹„êµ
    3. ë¼ì¸ ì°¨íŠ¸(Line): ë„ì‹œë³„ ì¸êµ¬ë¥¼ ì„ ìœ¼ë¡œ ë³´ê¸°(ê°„ë‹¨ ë¹„êµ)
        
- ì‚¬ì´ë“œë°”ì—ì„œ ì—°ë„/ë„ì‹œë¥¼ ë°”ê¾¸ë©´  
    â†’ Metric ê°’ê³¼ ì°¨íŠ¸ê°€ ê°™ì´ ë°”ë€ë‹¤
    
ì™œ Metricê³¼ ì°¨íŠ¸ê°€ í•„ìš”í•œê°€?
- í‘œëŠ” ì •í™•í•œ ê°’ í™•ì¸ì— ì¢‹ê³ 
- ì°¨íŠ¸/ì§€í‘œëŠ” í•œëˆˆì— ìƒí™© íŒŒì•…ì— ì¢‹ìŠµë‹ˆë‹¤  
    â†’ ì´ ìˆœê°„ë¶€í„° í™”ë©´ì´ í‘œê°€ ì•„ë‹ˆë¼ ëŒ€ì‹œë³´ë“œì²˜ëŸ¼ ë³´ì´ê¸° ì‹œì‘í•©ë‹ˆë‹¤.
---
`app.py`
tab_chart ì½”ë“œ
ì•„ë˜ ì½”ë“œë¥¼ ê¸°ì¡´ `with tab_chart:` ë¶€ë¶„ì— ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ì–´ êµì²´í•˜ì„¸ìš”.
```python
import streamlit as st
import pandas as pd

# =========================================================
# âœ… Step 5 ì „ì²´ ì½”ë“œ (Step 4 + "ì°¨íŠ¸ íƒ­ì— Metric/ì°¨íŠ¸" ì¶”ê°€)
# ---------------------------------------------------------
# Step 4 â†’ Step 5ì—ì„œ ë°”ë€ ì (í•µì‹¬)
# 1) tab_chart ì•ˆì˜ ë‚´ìš©ì´ "ì•ˆë‚´ë¬¸" â†’ "Metric + ì°¨íŠ¸"ë¡œ êµì²´ë¨ âœ…
# 2) filtered(í•„í„° ê²°ê³¼)ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©í•´ì„œ
#    ì‚¬ì´ë“œë°” ì„ íƒì´ ë°”ë€Œë©´ Metric/ì°¨íŠ¸ë„ ê°™ì´ ë°”ë€œ âœ…
# 3) CSV(df)ëŠ” ê·¸ëŒ€ë¡œ, ë³€ê²½ ì—†ìŒ âœ…
# =========================================================

# ============================
# 1) í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • (Step 4ì™€ ë™ì¼)
# ============================
st.set_page_config(
    page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
    page_icon="ğŸ™ï¸",
    layout="wide",
)

# ============================
# 2) ì œëª©/ë‹¨ê³„ ì•ˆë‚´ (Step 4ì™€ ë™ì¼)
# ============================
st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")
st.write("Step 5: ì°¨íŠ¸ + Metric(ìš”ì•½ì§€í‘œ)ë¥¼ ë¶™ì…ë‹ˆë‹¤. (ë°ì´í„°/ì°¨íŠ¸/ê´€ì œ)")

# ============================
# 3) CSV ë¡œë“œ (Step 4ì™€ ë™ì¼)
# ============================
df = pd.read_csv("data/population.csv")

# ============================
# 4) ì‚¬ì´ë“œë°” í•„í„° UI (Step 4ì™€ ë™ì¼)
# ============================
st.sidebar.header("ğŸ” í•„í„°")

years = sorted(df["ì—°ë„"].unique())
cities = sorted(df["ë„ì‹œ"].unique())

selected_year = st.sidebar.selectbox("ì—°ë„ ì„ íƒ", years)
selected_cities = st.sidebar.multiselect(
    "ë„ì‹œ ì„ íƒ (ì—¬ëŸ¬ ê°œ ê°€ëŠ¥)",
    options=cities,
    default=cities
)

# ============================
# 5) í•„í„°ë§ ì²˜ë¦¬ (Step 4ì™€ ë™ì¼)
# ============================
filtered = df[
    (df["ì—°ë„"] == selected_year) &
    (df["ë„ì‹œ"].isin(selected_cities))
]

# í˜„ì¬ ì„ íƒ ìƒíƒœ í‘œì‹œ(ìœ ì§€)
st.caption(f"í˜„ì¬ ì„ íƒ: ì—°ë„={selected_year}, ë„ì‹œ={len(selected_cities)}ê°œ")

# ============================
# 6) íƒ­ ë§Œë“¤ê¸° (Step 4ì™€ ë™ì¼)
# ============================
tab_data, tab_chart, tab_monitor = st.tabs(
    ["ğŸ“‘ ë°ì´í„°", "ğŸ“ˆ ì°¨íŠ¸", "ğŸš¨ ê´€ì œ(ë‹¤ìŒ ë‹¨ê³„)"]
)

# ============================
# 7) ë°ì´í„° íƒ­ (Step 4ì™€ ë™ì¼)
# ============================
with tab_data:
    st.subheader("ğŸ“‘ ë°ì´í„° íƒ­")

    # ì›ë³¸ ë°ì´í„°ëŠ” í•„ìš”í•  ë•Œë§Œ í¼ì¹˜ê¸°(ìœ ì§€)
    with st.expander("ì›ë³¸ ë°ì´í„° ë³´ê¸°(í¼ì¹˜ê¸°)", expanded=False):
        st.dataframe(df, use_container_width=True)

    st.markdown("### ğŸ¯ í•„í„° ê²°ê³¼ ë°ì´í„°")
    if filtered.empty:
        st.warning("ì„ íƒí•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” ì¡°ê±´ì„ ë°”ê¿”ë³´ì„¸ìš”.")
    else:
        st.dataframe(filtered, use_container_width=True)

# ============================
# 8) ì°¨íŠ¸ íƒ­ (âœ… Step 5 í•µì‹¬ ìˆ˜ì •/êµì²´ ë¶€ë¶„)
# ============================
with tab_chart:
    st.subheader("ğŸ“ˆ ì°¨íŠ¸ íƒ­ (ì°¨íŠ¸ + Metric)")

    # âœ… [ìœ ì§€/í•„ìˆ˜] ì˜ˆì™¸ ì²˜ë¦¬: filteredê°€ ë¹„ë©´ metric/ì°¨íŠ¸ ê³„ì‚°ì´ ë¶ˆê°€
    # - mean/sumì€ ê°€ëŠ¥í•´ë„, max_row(iloc[0])ì—ì„œ ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆìŒ
    if filtered.empty:
        st.info("í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°”ì—ì„œ ë„ì‹œë¥¼ ì„ íƒí•´ë³´ì„¸ìš”.")
    else:
        # âœ… [ì¶”ê°€] ============================
        # 1) Metric(ìš”ì•½ ì§€í‘œ) ê³„ì‚°
        # ============================
        # - filteredë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•˜ë¯€ë¡œ
        #   ì‚¬ì´ë“œë°”ì—ì„œ ì—°ë„/ë„ì‹œë¥¼ ë°”ê¾¸ë©´ ê°’ì´ ìë™ìœ¼ë¡œ ê°™ì´ ë°”ë€œ
        total_pop = float(filtered["ì¸êµ¬ìˆ˜"].sum())
        avg_pop = float(filtered["ì¸êµ¬ìˆ˜"].mean())
        max_row = filtered.sort_values("ì¸êµ¬ìˆ˜", ascending=False).iloc[0]

        st.markdown("### ğŸ“Œ ìš”ì•½ ì§€í‘œ (Metric)")
        col1, col2, col3 = st.columns(3)

        with col1:
            st.metric("ì´ ì¸êµ¬(í•©)", f"{total_pop:,.0f} (ë§Œ ëª…)")
        with col2:
            st.metric("í‰ê·  ì¸êµ¬", f"{avg_pop:,.1f} (ë§Œ ëª…)")
        with col3:
            st.metric("ìµœëŒ€ ë„ì‹œ", f"{max_row['ë„ì‹œ']} ({max_row['ì¸êµ¬ìˆ˜']:,.0f})")

        st.divider()

        # âœ… [ì¶”ê°€] ============================
        # 2) ì°¨íŠ¸ ë°ì´í„° ë§Œë“¤ê¸°
        # ============================
        # Streamlitì˜ bar_chart/line_chartëŠ”
        # indexê°€ xì¶•, ê°’ì´ yì¶•ì´ ë˜ë¯€ë¡œ 'ë„ì‹œ'ë¥¼ indexë¡œ ë‘”ë‹¤.
        chart_series = filtered.set_index("ë„ì‹œ")["ì¸êµ¬ìˆ˜"]

        st.markdown("### ğŸ“Š ë§‰ëŒ€ ì°¨íŠ¸ (ë„ì‹œë³„ ì¸êµ¬ ë¹„êµ)")
        st.bar_chart(chart_series)

        st.markdown("### ğŸ“ˆ ë¼ì¸ ì°¨íŠ¸ (ë„ì‹œë³„ ì¸êµ¬ë¥¼ ì„ ìœ¼ë¡œ ë³´ê¸°)")
        st.line_chart(chart_series)

        st.caption("â€» í˜„ì¬ëŠ” 'ì—°ë„ 1ê°œ'ë§Œ ì„ íƒí•˜ë¯€ë¡œ ì‹œê°„ ì¶”ì„¸ ë¶„ì„ë³´ë‹¤ëŠ” 'ë„ì‹œ ê°„ ë¹„êµ'ìš©ìœ¼ë¡œ ë´…ë‹ˆë‹¤.")

    # âœ… [Step 4 â†’ Step 5 ë³€ê²½ ì„¤ëª…]
    # Step 4ì—ì„œëŠ” tab_chartì— ì•„ë˜ì²˜ëŸ¼ ì•ˆë‚´ë¬¸ë§Œ ìˆì—ˆìŒ:
    #   st.subheader("ğŸ“ˆ ì°¨íŠ¸ íƒ­")
    #   st.info("Step 5ì—ì„œ ì°¨íŠ¸/ì§€í‘œë¥¼ ë¶™ì¼ ì˜ˆì •ì…ë‹ˆë‹¤.")
    #
    # Step 5ì—ì„œëŠ” ê·¸ ì•ˆë‚´ë¬¸ì„ "Metric + ì°¨íŠ¸" ì½”ë“œë¡œ êµì²´í•œ ê²ƒì„.

# ============================
# 9) ê´€ì œ íƒ­ (Step 4ì™€ ë™ì¼: ì•„ì§ ë¼ˆëŒ€)
# ============================
with tab_monitor:
    st.subheader("ğŸš¨ ê´€ì œ(ê²½ê³ ) íƒ­")
    st.info("Step 6ì—ì„œ ì„ê³„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ê²½ê³  ë„ì‹œë§Œ ë½‘ì•„ ë¹¨ê°„ ë°•ìŠ¤ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.")
    st.write("ì§€ê¸ˆì€ ê´€ì œ íƒ­ ë¼ˆëŒ€ë§Œ ìˆëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.")
```

ì‹¤í–‰
```bash
uv run streamlit run app.py
```

![[Pasted image 20251222210940.png]]

í™•ì¸ í¬ì¸íŠ¸(ì²´í¬ë¦¬ìŠ¤íŠ¸)
1. **ğŸ“ˆ ì°¨íŠ¸ íƒ­**ì— ë“¤ì–´ê°€ë©´
	- Metric 3ê°œê°€ ë³´ì´ë‚˜ìš”?
	    - ì´ ì¸êµ¬(í•©)
	    - í‰ê·  ì¸êµ¬
	    - ìµœëŒ€ ë„ì‹œ
2. ê·¸ ì•„ë˜ì—
	- ë§‰ëŒ€ ì°¨íŠ¸ê°€ ë³´ì´ë‚˜ìš”?
	- ë¼ì¸ ì°¨íŠ¸ê°€ ë³´ì´ë‚˜ìš”?
3. ì‚¬ì´ë“œë°”ì—ì„œ
	- ë„ì‹œë¥¼ â€œì„œìš¸ë§Œâ€ ì„ íƒí•´ë³´ë©´  
	    â†’ Metric/ì°¨íŠ¸ê°€ ì„œìš¸ 1ê°œ ê¸°ì¤€ìœ¼ë¡œ ë°”ë€Œë‚˜ìš”?
âœ… ì´ 3ê°œê°€ ë˜ë©´ Step 5 ì„±ê³µì…ë‹ˆë‹¤.

---
## 6. ì„ê³„ì¹˜ ê¸°ë°˜ â€œê²½ê³  ê´€ì œâ€ ë§Œë“¤ê¸°

ğŸ¯ ëª©í‘œ
- ì‚¬ì´ë“œë°”ì— ê²½ê³  ì„ê³„ì¹˜(ìˆ«ì ì…ë ¥)ê°€ ìˆë‹¤
- ğŸš¨ ê´€ì œ íƒ­ì—ì„œ:
    1. ì„ê³„ì¹˜ ì´ìƒ ë„ì‹œë§Œ ê²½ê³  ëŒ€ìƒìœ¼ë¡œ í•„í„°ë§ëœë‹¤
    2. ê²½ê³  ëŒ€ìƒì´ ìˆìœ¼ë©´ ë¹¨ê°„ ê²½ê³  ë©”ì‹œì§€ê°€ ëœ¬ë‹¤
    3. ê²½ê³  ëŒ€ìƒ ëª©ë¡(í‘œ) + TOP3(ìš°ì„  í™•ì¸)ê¹Œì§€ ë³´ì—¬ì¤€ë‹¤
- ì‚¬ì´ë“œë°”ì—ì„œ ì„ê³„ì¹˜ë¥¼ ë°”ê¾¸ë©´ â†’ ê´€ì œ ê²°ê³¼ê°€ ì¦‰ì‹œ ë°”ë€ë‹¤
---
`app.py`
	ê´€ì œ íƒ­ ì½”ë“œ
```python
# --- (3) ê´€ì œ(ê²½ê³ ) íƒ­: Step 6ì—ì„œ ì„ê³„ì¹˜ ê¸°ë°˜ ê²½ê³  ê´€ì œ êµ¬í˜„ ---
with tab_monitor:
    st.subheader("ğŸš¨ ê´€ì œ(ê²½ê³ ) íƒ­")

    # 1) í•„í„° ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ê´€ì œí•  ê²ƒë„ ì—†ìŒ
    if filtered.empty:
        st.info("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” í•„í„°(ì—°ë„/ë„ì‹œ)ë¥¼ ì¡°ì •í•´ë³´ì„¸ìš”.")
    else:
        # 2) ì„ê³„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ 'ê²½ê³  ëŒ€ìƒ'ë§Œ ì¶”ë ¤ë‚´ê¸°
        # - warn_threshold ì´ìƒì¸ í–‰ë§Œ ìœ„í—˜(ê²½ê³ )ìœ¼ë¡œ ê°„ì£¼
        danger = filtered[filtered["ì¸êµ¬ìˆ˜"] >= warn_threshold].copy()

        # 3) í˜„ì¬ ê¸°ì¤€ì„ í™”ë©´ì— ëª…ì‹œ (ê´€ì œ í™”ë©´ì€ 'ê¸°ì¤€'ì´ ì¤‘ìš”)
        st.write(f"âœ… í˜„ì¬ ê²½ê³  ê¸°ì¤€: ì¸êµ¬ìˆ˜ â‰¥ {warn_threshold} (ë§Œ ëª…)")
        st.caption("ê´€ì œ í™”ë©´ì˜ í•µì‹¬ì€ 'ëª¨ë“  ë°ì´í„°'ê°€ ì•„ë‹ˆë¼ 'ë¬¸ì œê°€ ë˜ëŠ” ê²ƒë§Œ ë¹ ë¥´ê²Œ ì¶”ë ¤ ë³´ì—¬ì£¼ê¸°'ì…ë‹ˆë‹¤.")

        # 4) ê²½ê³  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì„±ê³µ ë©”ì‹œì§€
        if danger.empty:
            st.success("âœ… í˜„ì¬ ê¸°ì¤€ìœ¼ë¡œ ê²½ê³  ëŒ€ìƒ ë„ì‹œê°€ ì—†ìŠµë‹ˆë‹¤.")
        else:
            # 5) ê²½ê³  ëŒ€ìƒì´ ìˆìœ¼ë©´ ë¹¨ê°„ ê²½ê³  ë°•ìŠ¤ + ëª©ë¡
            st.error(f"âš ï¸ ê²½ê³  ëŒ€ìƒ ë„ì‹œê°€ {len(danger)}ê°œ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”.")

            # ë³´ê¸° ì¢‹ê²Œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
            danger = danger.sort_values("ì¸êµ¬ìˆ˜", ascending=False)

            # (1) ê²½ê³  ëŒ€ìƒ ì „ì²´ ëª©ë¡
            st.markdown("### ğŸ“‹ ê²½ê³  ëŒ€ìƒ ëª©ë¡")
            st.dataframe(danger, use_container_width=True)

            # (2) ìš°ì„  í™•ì¸ TOP 3 (ê°€ì¥ í° ê°’ë¶€í„°)
            st.markdown("### ğŸ”¥ ìš°ì„  í™•ì¸ TOP 3")
            top3 = danger.head(3)
            st.table(top3[["ë„ì‹œ", "ì—°ë„", "ì¸êµ¬ìˆ˜"]])

            # (3) ê´€ì œ ìš”ì•½ ì¹´ë“œ(ì„ íƒ ì‚¬í•­ì´ì§€ë§Œ ê´€ì œ ëŠë‚Œ ì—…)
            st.markdown("### ğŸ“Œ ê´€ì œ ìš”ì•½")
            col1, col2, col3 = st.columns(3)

            with col1:
                st.metric("ê²½ê³  ë„ì‹œ ìˆ˜", f"{len(danger)}ê°œ")
            with col2:
                st.metric("ìµœëŒ€ ì¸êµ¬(ê²½ê³  ì¤‘)", f"{danger['ì¸êµ¬ìˆ˜'].max():,.0f}")
            with col3:
                st.metric("í‰ê·  ì¸êµ¬(ê²½ê³  ì¤‘)", f"{danger['ì¸êµ¬ìˆ˜'].mean():,.1f}")
```

ì‹¤í–‰
```bash
uv run streamlit run app.py
```

![[Pasted image 20251222211212.png]]

í™•ì¸ í¬ì¸íŠ¸(ì²´í¬ë¦¬ìŠ¤íŠ¸)
1. ì‚¬ì´ë“œë°”ì— ì„ê³„ì¹˜ ì…ë ¥ì´ ë³´ì´ë‚˜ìš”?
	- ìˆ«ì ë°”ê¿€ ìˆ˜ ìˆì–´ì•¼ í•¨ (ì˜ˆ: 500 â†’ 300)
2. ğŸš¨ ê´€ì œ íƒ­ì—ì„œ
	- ì„ê³„ì¹˜ë¥¼ ë‚®ì¶”ë©´ ê²½ê³  ëŒ€ìƒì´ ëŠ˜ê³ 
	- ì„ê³„ì¹˜ë¥¼ ë†’ì´ë©´ ê²½ê³  ëŒ€ìƒì´ ì¤„ì–´ë“œë‚˜ìš”?
3. ê²½ê³  ëŒ€ìƒì´ ìˆì„ ë•Œ
	- ë¹¨ê°„ `st.error(...)` ë°•ìŠ¤ê°€ ëœ¨ê³ 
	- ê²½ê³  ëª©ë¡ í‘œ + TOP3ê°€ ë³´ì´ë‚˜ìš”?
ì´ 3ê°œê°€ ë˜ë©´ Step 6 ì„±ê³µì…ë‹ˆë‹¤.

---
## ì—­í• ë³„ë¡œ ë¶„ë¦¬

ì™œ ë¶„ë¦¬í•˜ë‚˜ìš”?
1) app.pyê°€ ê¸¸ì–´ì§€ë©´ â€œì–´ë””ê°€ UIê³  ì–´ë””ê°€ ë°ì´í„° ì²˜ë¦¬ì¸ì§€â€ êµ¬ë¶„ì´ ì•ˆ ë¨
	- í•„í„° UI, íƒ­ UI, í‘œ ì¶œë ¥, ì°¨íŠ¸ ì¶œë ¥, ì„ê³„ì¹˜ ê´€ì œ ë¡œì§ì´ í•œ íŒŒì¼ì— ì„ì´ë©´
	- ë²„ê·¸ê°€ ë‚¬ì„ ë•Œ ì–´ë””ë¥¼ ê³ ì³ì•¼ í•˜ëŠ”ì§€ ê°ì´ ì•ˆ ì˜µë‹ˆë‹¤.
2) ì—­í• ì„ ë‚˜ëˆ„ë©´ ê³ ì¹˜ê¸° ì‰¬ì›€
	- services/ : ë°ì´í„° ì½ê¸°/ì „ì²˜ë¦¬ (UIë‘ ë¶„ë¦¬)
	- dashboard/ : í™”ë©´(ë ˆì´ì•„ì›ƒ/ìœ„ì ¯/íƒ­ í™”ë©´)ë§Œ ë‹´ë‹¹
	- tests/ : Streamlit ì—†ì´ â€œìˆœìˆ˜ í•¨ìˆ˜â€ë§Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
3) ë°°í¬/í˜‘ì—… ë•Œ ë” ì•ˆì „
	- íŒ€ì›ì´ UIë§Œ ìˆ˜ì •í•  ìˆ˜ë„ ìˆê³ 
	- ë°ì´í„° ë¡œë”©ë§Œ ë°”ê¿€ ìˆ˜ë„ ìˆìŒ  
    â†’ ì„œë¡œ ì¶©ëŒì´ ì¤„ì–´ë“­ë‹ˆë‹¤.

---
## ë””ë ‰í† ë¦¬ êµ¬ì¡° ë‹¤ì‹œ í™•ì¸

ë””ë ‰í† ë¦¬ êµ¬ì¡°:
```bash
streamlit_dashboard_day/
â”œâ”€ app.py
â”œâ”€ dashboard/
â”‚   â”œâ”€ __init__.py
â”‚   â”œâ”€ layout.py
â”‚   â”œâ”€ widgets.py
â”‚   â”œâ”€ views.py
â”‚   â””â”€ state.py
â”œâ”€ services/
â”‚   â”œâ”€ __init__.py
â”‚   â””â”€ data_loader.py
â”œâ”€ data/
â”‚   â””â”€ population.csv
â”œâ”€ tests/
â”‚   â”œâ”€ __init__.py
â”‚   â””â”€ test_data_loader.py
â”œâ”€ requirements.txt
â””â”€ README.md
```

`services/data_loader.py` (CSV ë¡œë”© ë‹´ë‹¹)
	UI ì—†ì´ ë°ì´í„°ë§Œ ë‹¤ë£¨ëŠ” ê³„ì¸µ 
	Streamlitê³¼ ë¶„ë¦¬í•˜ë©´ í…ŒìŠ¤íŠ¸/ì¬ì‚¬ìš©ì´ ì‰¬ì›Œì§‘ë‹ˆë‹¤.
```python
# services/data_loader.py
"""
âœ… ì—­í• : ë°ì´í„° ë¡œë”©(ì…ë ¥ ë°ì´í„°)ë§Œ ë‹´ë‹¹
- Streamlit UIì™€ ë¶„ë¦¬í•˜ëŠ” ì´ìœ :
  1) ë‚˜ì¤‘ì— CSV â†’ APIë¡œ ë°”ë€Œì–´ë„ UI ì½”ë“œëŠ” ê±´ë“œë¦´ í•„ìš”ê°€ ì—†ìŒ
  2) í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›Œì§ (pytestë¡œ ë¡œë” í•¨ìˆ˜ë§Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥)
"""

from __future__ import annotations
import pandas as pd


REQUIRED_COLUMNS = {"ë„ì‹œ", "ì—°ë„", "ì¸êµ¬ìˆ˜"}


def load_population_csv(csv_path: str = "data/population.csv") -> pd.DataFrame:
    """
    population.csvë¥¼ ì½ì–´ì„œ DataFrame ë°˜í™˜.
    - í•„ìˆ˜ ì»¬ëŸ¼(ë„ì‹œ/ì—°ë„/ì¸êµ¬ìˆ˜) ì¡´ì¬ ì—¬ë¶€ë¥¼ ê²€ì‚¬
    - ì—°ë„/ì¸êµ¬ìˆ˜ëŠ” ìˆ«ì íƒ€ì…ìœ¼ë¡œ ë³€í™˜(ê°€ëŠ¥í•œ ë²”ìœ„ì—ì„œ)
    """
    df = pd.read_csv(csv_path)

    missing = REQUIRED_COLUMNS - set(df.columns)
    if missing:
        raise ValueError(f"CSVì— í•„ìˆ˜ ì»¬ëŸ¼ì´ ì—†ìŠµë‹ˆë‹¤: {sorted(missing)}")

    # íƒ€ì… ì •ë¦¬: (ë°ì´í„°ê°€ ë¬¸ìì—´ë¡œ ë“¤ì–´ì™”ì„ ë•Œë¥¼ ëŒ€ë¹„)
    df["ì—°ë„"] = pd.to_numeric(df["ì—°ë„"], errors="coerce")
    df["ì¸êµ¬ìˆ˜"] = pd.to_numeric(df["ì¸êµ¬ìˆ˜"], errors="coerce")

    # NaN ì œê±°(í•„ìˆ˜ ê°’ì´ ë¹„ì–´ìˆìœ¼ë©´ ëŒ€ì‹œë³´ë“œê°€ ì´ìƒí•˜ê²Œ ë™ì‘í•˜ë¯€ë¡œ)
    df = df.dropna(subset=["ë„ì‹œ", "ì—°ë„", "ì¸êµ¬ìˆ˜"]).copy()

    # ì •ìˆ˜ì²˜ëŸ¼ ë³´ì´ê²Œ ì •ë¦¬(í•„ìš”ì‹œ)
    df["ì—°ë„"] = df["ì—°ë„"].astype(int)
    # ì¸êµ¬ìˆ˜ëŠ” ì†Œìˆ˜ë„ ê°€ëŠ¥í•˜ê²Œ float ìœ ì§€í•´ë„ ë˜ì§€ë§Œ, ê¸°ë³¸ì€ floatë¡œ ë‘ 
    df["ì¸êµ¬ìˆ˜"] = df["ì¸êµ¬ìˆ˜"].astype(float)

    return df
```
---

`dashboard/widgets.py` (ì‚¬ì´ë“œë°” ìœ„ì ¯ ë‹´ë‹¹)
	ì‚¬ì´ë“œë°”(ì…ë ¥ UI)ë§Œ ëª¨ì•„ë‘ëŠ” íŒŒì¼  
	ì…ë ¥ê³¼ ì¶œë ¥ì´ ë¶„ë¦¬ë˜ë©´ í™”ë©´ ê´€ë¦¬ê°€ í¸í•´ì ¸ìš”.
```python
# dashboard/widgets.py
"""
âœ… ì—­í• : "ì…ë ¥(UI ìœ„ì ¯)"ë§Œ ë‹´ë‹¹
- sidebarì— ë¬´ì—‡ì„ ë³´ì—¬ì¤„ì§€(ì—°ë„, ë„ì‹œ, ì„ê³„ì¹˜)ë¥¼ ì—¬ê¸°ì„œë§Œ ê´€ë¦¬
"""

from __future__ import annotations
from dataclasses import dataclass
import streamlit as st
import pandas as pd


@dataclass(frozen=True)
class Filters:
    """ì‚¬ì´ë“œë°”ì—ì„œ ì„ íƒí•œ ê°’ë“¤ì„ í•œ ë©ì–´ë¦¬ë¡œ ë¬¶ì–´ì„œ ì „ë‹¬í•˜ê¸° ìœ„í•œ êµ¬ì¡°"""
    year: int
    cities: list[str]
    warn_threshold: float


def build_sidebar_widgets(df: pd.DataFrame) -> Filters:
    """
    dfë¥¼ ë³´ê³  ê°€ëŠ¥í•œ ì„ íƒì§€(years/cities)ë¥¼ ë§Œë“  ë’¤
    Streamlit sidebar ìœ„ì ¯ì„ ë„ìš°ê³ , ì„ íƒ ê²°ê³¼ë¥¼ Filtersë¡œ ë°˜í™˜í•œë‹¤.
    """
    st.sidebar.header("ğŸ” í•„í„°")

    years = sorted(df["ì—°ë„"].unique())
    cities = sorted(df["ë„ì‹œ"].unique())

    selected_year = st.sidebar.selectbox("ì—°ë„ ì„ íƒ", years)
    selected_cities = st.sidebar.multiselect(
        "ë„ì‹œ ì„ íƒ (ì—¬ëŸ¬ ê°œ ê°€ëŠ¥)",
        options=cities,
        default=cities
    )

    # ê´€ì œ ì„ê³„ì¹˜(ê²½ê³  ê¸°ì¤€)
    st.sidebar.divider()
    st.sidebar.header("ğŸš¨ ê´€ì œ ì„¤ì •")

    warn_threshold = st.sidebar.number_input(
        "ê²½ê³  ì„ê³„ì¹˜ (ì¸êµ¬ìˆ˜ â‰¥ ? / ë‹¨ìœ„: ë§Œ ëª…)",
        min_value=0.0,
        max_value=10_000.0,
        value=500.0,   # ê¸°ë³¸ 500ë§Œëª…
        step=10.0
    )

    return Filters(
        year=int(selected_year),
        cities=list(selected_cities),
        warn_threshold=float(warn_threshold),
    )
```
---
`dashboard/layout.py` (í˜ì´ì§€ ì„¤ì • + íƒ­ ìƒì„±)
	í™”ë©´ ë¼ˆëŒ€(ë ˆì´ì•„ì›ƒ)ë§Œ ë‹´ë‹¹  
	app.pyì—ì„œ íë¦„ì„ ë³´ê¸° ì‰½ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ë¶„ë¦¬ì…ë‹ˆë‹¤.
```python
# dashboard/layout.py
"""
âœ… ì—­í• : í™”ë©´ì˜ "ë¼ˆëŒ€(ë ˆì´ì•„ì›ƒ)"ë§Œ ë‹´ë‹¹
- í˜ì´ì§€ ì„¤ì •(set_page_config)
- íƒ­ ìƒì„±(tabs)
"""

from __future__ import annotations
import streamlit as st


def setup_page() -> None:
    """í˜ì´ì§€ ê³µí†µ ì„¤ì •ì€ app ì‹œì‘ ì´ˆë°˜ì— ë”± 1ë²ˆ í˜¸ì¶œ"""
    st.set_page_config(
        page_title="ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ",
        page_icon="ğŸ™ï¸",
        layout="wide",
    )


def create_tabs():
    """
    íƒ­ ìƒì„±.
    ë°˜í™˜ê°’ì„ app.pyì—ì„œ ë°›ì•„ì„œ views.pyì— ë„˜ê²¨ì¤„ ìˆ˜ ìˆìŒ.
    """
    return st.tabs(["ğŸ“‘ ë°ì´í„°", "ğŸ“ˆ ì°¨íŠ¸", "ğŸš¨ ê´€ì œ"])
```
---
`dashboard/views.py` (íƒ­ë³„ í™”ë©´ ì¶œë ¥ ë‹´ë‹¹)
	ê° íƒ­ì—ì„œ ë¬´ì—‡ì„ ë³´ì—¬ì¤„ì§€ë§Œ ëª¨ì•„ë‘   
	ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ê°€ì¥ í”í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.
```python
# dashboard/views.py
"""
âœ… ì—­í• : "ì¶œë ¥(View)"ë§Œ ë‹´ë‹¹
- íƒ­ë³„ë¡œ ì–´ë–¤ í™”ë©´ì„ ê·¸ë¦´ì§€ ì—¬ê¸°ì„œë§Œ ê´€ë¦¬
- app.pyëŠ” ë°ì´í„°ë¥¼ ì¤€ë¹„í•´ì„œ ì´ í•¨ìˆ˜ë“¤ì„ í˜¸ì¶œí•˜ê¸°ë§Œ í•¨
"""

from __future__ import annotations
import streamlit as st
import pandas as pd


def render_data_tab(tab, df: pd.DataFrame, filtered: pd.DataFrame) -> None:
    with tab:
        st.subheader("ğŸ“‘ ë°ì´í„° íƒ­")

        with st.expander("ì›ë³¸ ë°ì´í„° ë³´ê¸°(í¼ì¹˜ê¸°)", expanded=False):
            st.dataframe(df, use_container_width=True)

        st.markdown("### ğŸ¯ í•„í„° ê²°ê³¼ ë°ì´í„°")
        if filtered.empty:
            st.warning("ì„ íƒí•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” ì¡°ê±´ì„ ë°”ê¿”ë³´ì„¸ìš”.")
        else:
            st.dataframe(filtered, use_container_width=True)


def render_chart_tab(tab, filtered: pd.DataFrame) -> None:
    with tab:
        st.subheader("ğŸ“ˆ ì°¨íŠ¸ íƒ­ (ì°¨íŠ¸ + Metric)")

        if filtered.empty:
            st.info("í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°”ì—ì„œ ë„ì‹œë¥¼ ì„ íƒí•´ë³´ì„¸ìš”.")
            return

        # ----------------------------
        # Metric(ìš”ì•½ ì§€í‘œ)
        # ----------------------------
        total_pop = float(filtered["ì¸êµ¬ìˆ˜"].sum())
        avg_pop = float(filtered["ì¸êµ¬ìˆ˜"].mean())
        max_row = filtered.sort_values("ì¸êµ¬ìˆ˜", ascending=False).iloc[0]

        st.markdown("### ğŸ“Œ ìš”ì•½ ì§€í‘œ (Metric)")
        col1, col2, col3 = st.columns(3)

        with col1:
            st.metric("ì´ ì¸êµ¬(í•©)", f"{total_pop:,.0f} (ë§Œ ëª…)")
        with col2:
            st.metric("í‰ê·  ì¸êµ¬", f"{avg_pop:,.1f} (ë§Œ ëª…)")
        with col3:
            st.metric("ìµœëŒ€ ë„ì‹œ", f"{max_row['ë„ì‹œ']} ({max_row['ì¸êµ¬ìˆ˜']:,.0f})")

        st.divider()

        # ----------------------------
        # Chart
        # ----------------------------
        chart_series = filtered.set_index("ë„ì‹œ")["ì¸êµ¬ìˆ˜"]

        st.markdown("### ğŸ“Š ë§‰ëŒ€ ì°¨íŠ¸ (ë„ì‹œë³„ ì¸êµ¬ ë¹„êµ)")
        st.bar_chart(chart_series)

        st.markdown("### ğŸ“ˆ ë¼ì¸ ì°¨íŠ¸ (ë„ì‹œë³„ ì¸êµ¬ë¥¼ ì„ ìœ¼ë¡œ ë³´ê¸°)")
        st.line_chart(chart_series)

        st.caption("â€» í˜„ì¬ëŠ” 'ì—°ë„ 1ê°œ'ë§Œ ì„ íƒí•˜ë¯€ë¡œ ì‹œê°„ ì¶”ì„¸ ë¶„ì„ë³´ë‹¤ëŠ” 'ë„ì‹œ ê°„ ë¹„êµ'ìš©ìœ¼ë¡œ ë´…ë‹ˆë‹¤.")


def render_monitor_tab(tab, filtered: pd.DataFrame, warn_threshold: float) -> None:
    with tab:
        st.subheader("ğŸš¨ ê´€ì œ(ê²½ê³ ) íƒ­")

        if filtered.empty:
            st.info("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ë“œë°” í•„í„°(ì—°ë„/ë„ì‹œ)ë¥¼ ì¡°ì •í•´ë³´ì„¸ìš”.")
            return

        # âœ… ì„ê³„ì¹˜ ì´ìƒë§Œ ê²½ê³  ëŒ€ìƒ
        danger = filtered[filtered["ì¸êµ¬ìˆ˜"] >= warn_threshold].copy()

        st.write(f"âœ… í˜„ì¬ ê²½ê³  ê¸°ì¤€: ì¸êµ¬ìˆ˜ â‰¥ {warn_threshold} (ë§Œ ëª…)")
        st.caption("ê´€ì œ í™”ë©´ì˜ í•µì‹¬ì€ 'ëª¨ë“  ë°ì´í„°'ê°€ ì•„ë‹ˆë¼ 'ë¬¸ì œê°€ ë˜ëŠ” ê²ƒë§Œ ë¹ ë¥´ê²Œ ì¶”ë ¤ ë³´ì—¬ì£¼ê¸°'ì…ë‹ˆë‹¤.")

        if danger.empty:
            st.success("âœ… í˜„ì¬ ê¸°ì¤€ìœ¼ë¡œ ê²½ê³  ëŒ€ìƒ ë„ì‹œê°€ ì—†ìŠµë‹ˆë‹¤.")
            return

        st.error(f"âš ï¸ ê²½ê³  ëŒ€ìƒ ë„ì‹œê°€ {len(danger)}ê°œ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”.")

        danger = danger.sort_values("ì¸êµ¬ìˆ˜", ascending=False)

        st.markdown("### ğŸ“‹ ê²½ê³  ëŒ€ìƒ ëª©ë¡")
        st.dataframe(danger, use_container_width=True)

        st.markdown("### ğŸ”¥ ìš°ì„  í™•ì¸ TOP 3")
        top3 = danger.head(3)
        st.table(top3[["ë„ì‹œ", "ì—°ë„", "ì¸êµ¬ìˆ˜"]])

        st.markdown("### ğŸ“Œ ê´€ì œ ìš”ì•½")
        col1, col2, col3 = st.columns(3)
        with col1:
            st.metric("ê²½ê³  ë„ì‹œ ìˆ˜", f"{len(danger)}ê°œ")
        with col2:
            st.metric("ìµœëŒ€ ì¸êµ¬(ê²½ê³  ì¤‘)", f"{danger['ì¸êµ¬ìˆ˜'].max():,.0f}")
        with col3:
            st.metric("í‰ê·  ì¸êµ¬(ê²½ê³  ì¤‘)", f"{danger['ì¸êµ¬ìˆ˜'].mean():,.1f}")
```
---
`dashboard/state.py` (ì„ íƒ: ì„¸ì…˜ ìƒíƒœ ìœ í‹¸)
	ì§€ê¸ˆ ë‹¨ê³„ì—ì„œëŠ” í•„ìˆ˜ëŠ” ì•„ë‹˜  
	ë‚˜ì¤‘ì— ê¸°ë³¸ ì„ íƒê°’ ê¸°ì–µ, ë²„íŠ¼ í´ë¦­ ìƒíƒœ ìœ ì§€ ë“±ì— ì”ë‹ˆë‹¤.
```python
# dashboard/state.py
"""
âœ… ì—­í• (ì„ íƒ): session_state ê¸°ë³¸ê°’ ê´€ë¦¬
- Streamlitì€ ìœ„ì ¯ì´ ë°”ë€Œë©´ ì½”ë“œê°€ ì¬ì‹¤í–‰ë©ë‹ˆë‹¤.
- ì¬ì‹¤í–‰ë  ë•Œë„ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ê°’ì´ ìˆë‹¤ë©´ session_stateë¥¼ ì”ë‹ˆë‹¤.
"""

from __future__ import annotations
import streamlit as st


def init_state_defaults() -> None:
    """
    ì„¸ì…˜ì— ê¸°ë³¸ê°’ì´ ì—†ìœ¼ë©´ ë„£ì–´ì£¼ëŠ” ìœ í‹¸.
    (ì§€ê¸ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê¼­ í•„ìš”í•˜ì§„ ì•Šì§€ë§Œ, í™•ì¥ ëŒ€ë¹„)
    """
    if "debug" not in st.session_state:
        st.session_state["debug"] = False
```

---
`app.py` - ì¡°ë¦½ë§Œ í•˜ëŠ” ì§„ì§œ ì§„ì…ì 
	app.pyëŠ” ì´ì œ ì¡°ë¦½ì ì—­í• ë§Œ í•©ë‹ˆë‹¤.  
	ê·¸ë˜ì„œ ì½ê¸° ì‰¬ì›Œì§€ê³  íë¦„ì´ í•œ ëˆˆì— ë³´ì…ë‹ˆë‹¤.

```python
# app.py
"""
âœ… ì—­í• : "ì¡°ë¦½(Orchestration)"ë§Œ ë‹´ë‹¹
- ë°ì´í„° ë¡œë“œ(services)
- ìœ„ì ¯ ì…ë ¥(dashboard/widgets)
- ì²˜ë¦¬(filtered ìƒì„±)
- ë ˆì´ì•„ì›ƒ/íƒ­ ìƒì„±(dashboard/layout)
- íƒ­ë³„ í™”ë©´ ì¶œë ¥(dashboard/views)
"""

import streamlit as st
import pandas as pd

from services.data_loader import load_population_csv
from dashboard.layout import setup_page, create_tabs
from dashboard.widgets import build_sidebar_widgets
from dashboard.views import render_data_tab, render_chart_tab, render_monitor_tab
from dashboard.state import init_state_defaults


def main():
    # 1) í˜ì´ì§€ ì„¤ì •(í•œ ë²ˆë§Œ)
    setup_page()

    # 2) ì„¸ì…˜ ì´ˆê¸°í™”(ì„ íƒ)
    init_state_defaults()

    # 3) ì œëª©/ì„¤ëª…
    st.title("ğŸ™ï¸ ëŒ€í•œë¯¼êµ­ ë„ì‹œ ì¸êµ¬ ëŒ€ì‹œë³´ë“œ")
    st.write("Step 6: íƒ­ + ì°¨íŠ¸/Metric + ì„ê³„ì¹˜ ê¸°ë°˜ ê´€ì œê¹Œì§€ ì™„ì„±ë³¸")

    # 4) ë°ì´í„° ë¡œë“œ (CSV)
    df = load_population_csv("data/population.csv")

    # 5) ì‚¬ì´ë“œë°” ìœ„ì ¯(ì…ë ¥) â†’ Filters ë°˜í™˜
    filters = build_sidebar_widgets(df)

    # 6) ì²˜ë¦¬: í•„í„°ë§(ì…ë ¥ â†’ ì²˜ë¦¬ â†’ ì¶œë ¥ íŒ¨í„´ì˜ 'ì²˜ë¦¬')
    filtered = df[
        (df["ì—°ë„"] == filters.year) &
        (df["ë„ì‹œ"].isin(filters.cities))
    ]

    # í˜„ì¬ ìƒíƒœ í‘œì‹œ(ì‚¬ìš©ì í˜¼ë€ ë°©ì§€)
    st.caption(
        f"í˜„ì¬ ì„ íƒ: ì—°ë„={filters.year}, ë„ì‹œ={len(filters.cities)}ê°œ, ì„ê³„ì¹˜={filters.warn_threshold}+"
    )

    # 7) íƒ­ ìƒì„±(ë ˆì´ì•„ì›ƒ)
    tab_data, tab_chart, tab_monitor = create_tabs()

    # 8) íƒ­ë³„ ì¶œë ¥(View)
    render_data_tab(tab_data, df, filtered)
    render_chart_tab(tab_chart, filtered)
    render_monitor_tab(tab_monitor, filtered, filters.warn_threshold)


if __name__ == "__main__":
    main()
```

ì‹¤í–‰:
```bash
uv run streamlit run app.py
```

---

## tests/test_data_loader.py (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
	Streamlit ì—†ì´ë„ CSV ë¡œë”© í•¨ìˆ˜ê°€ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.

pytest ì„¤ì¹˜
```bash
uv pip install pytest
```

`tests/test_data_loader.py`
```python
# tests/test_data_loader.py
import pandas as pd
import pytest
from services.data_loader import load_population_csv


def test_load_population_csv_has_required_columns(tmp_path):
    # ì„ì‹œ CSV ìƒì„±
    csv = tmp_path / "population.csv"
    csv.write_text(
        "ë„ì‹œ,ì—°ë„,ì¸êµ¬ìˆ˜\nì„œìš¸,2022,950\në¶€ì‚°,2022,330\n",
        encoding="utf-8"
    )

    df = load_population_csv(str(csv))
    assert set(["ë„ì‹œ", "ì—°ë„", "ì¸êµ¬ìˆ˜"]).issubset(df.columns)
    assert len(df) == 2


def test_load_population_csv_missing_columns(tmp_path):
    csv = tmp_path / "bad.csv"
    csv.write_text("ë„ì‹œ,ì—°ë„\nì„œìš¸,2022\n", encoding="utf-8")

    with pytest.raises(ValueError):
        load_population_csv(str(csv))
```

í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
uv run pytest
```

ì„±ê³µë©”ì‹œì§€
```
===================================== test session starts =======================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0
rootdir: /home/youjung/streamlit_dashboard_day
configfile: pyproject.toml
collected 2 items                                                                              

tests/test_data_loader.py ..                                                             [100%]

====================================== 2 passed in 0.26s ========================
```

ì „ì²´ ì‹¤í–‰
```bash
uv run streamlit run app.py
```

---
## GitHub ì—°ë™ & requirements / README ì •ë¦¬

### ì‹œì‘ ì „ ì²´í¬

í˜„ì¬ í”„ë¡œì íŠ¸ ìœ„ì¹˜ í™•ì¸
```bash
cd ~/streamlit_dashboard_day
pwd
ls
```

`.venv/`ëŠ” Gitì— ì˜¬ë¦¬ì§€ ì•Šê¸°
	`.venv`ë¥¼ ì˜¬ë¦¬ë©´ ë ˆí¬ê°€ ë„ˆë¬´ ì»¤ì§€ê³ , ë°°í¬ë„ ê¼¬ì…ë‹ˆë‹¤.

`.gitignore` ë§Œë“¤ê¸°/ì¶”ê°€
```bash
cat > .gitignore << 'EOF'
# Python
__pycache__/
*.pyc
*.pyo
*.pyd
*.log

# Virtual env
.venv/
venv/

# OS/Editor
.DS_Store
.vscode/

# Streamlit
.streamlit/secrets.toml

# Test cache
.pytest_cache/
EOF
```
---
### requirements.txt / README.md ì¤€ë¹„ (ë°°í¬/í˜‘ì—…ì˜ ê¸°ë³¸)

ìœ„ìª½ì—ì„œ ì²˜ìŒì— requirements.txt ë§Œë“¤ì—ˆì§€ë§Œ ìµœì¢…ë³¸ìœ¼ë¡œ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤.
	Streamlit CloudëŠ” ë³´í†µ `requirements.txt`ë¥¼ ì½ìŠµë‹ˆë‹¤.
```bash
uv pip freeze > requirements.txt
```

í™•ì¸:
```bash
cat requirements.txt
```

README.md ìµœì†Œ ë¬¸ì„œ ì‘ì„±
```bash
## 8êµì‹œ (ì•½ 1ì‹œê°„) â€” Streamlit Cloud ë°°í¬ & ìµœì¢… ì ê²€

**ëª©í‘œ**

- ì‹¤ì œ URLì´ ë‚˜ì˜¤ëŠ” â€œë°°í¬ ê²½í—˜â€ì„ ì œê³µ
- ì¹œêµ¬/ì§€ì¸ì—ê²Œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ê¹Œì§€

**ë‚´ìš©**

1. [streamlit.io](<https://streamlit.io>) / Streamlit Cloud ì ‘ì†, GitHub ì—°ë™
2. â€œNew appâ€ â†’ ë ˆí¬ ì„ íƒ â†’ `app.py` ì§€ì • â†’ ë°°í¬
3. ë°°í¬ëœ URL ì ‘ì†í•´ ì‹¤ì œ ë™ì‘ í™•ì¸
4. ì‘ì€ ë²„ê·¸ ìˆ˜ì • â†’ ì»¤ë°‹ â†’ Push â†’ ìë™ ì¬ë°°í¬ ì²´í—˜
5. ë§ˆì§€ë§‰ì— í•™ìƒ ê°ì:
   - ë‚´ ì„œë¹„ìŠ¤ URL
   - ìŠ¤í¬ë¦°ìƒ· 2~3ì¥
   - â€œë‚´ê°€ êµ¬í˜„í•œ ê¸°ëŠ¥ í•œ ì¤„ ì†Œê°œâ€ ì •ë¦¬

---

# 3. ìš”ì•½ â€“ ì˜¤ëŠ˜ í•˜ë£¨ì— ìŒ“ì´ëŠ” ê²ƒ

| í•­ëª© | ê²½í—˜ |
|------|------|
| UI êµ¬ì„± | Column / Tab / Sidebarë¡œ í™”ë©´ì§œê¸° |
| ë°ì´í„° | CSV â†’ pandas â†’ Streamlit í‘œ/ì°¨íŠ¸ |
| ì¸í„°ë™ì…˜ | ìœ„ì ¯ìœ¼ë¡œ í•„í„°ë§/ì •ë ¬ |
| êµ¬ì¡°í™” | íŒŒì¼/ëª¨ë“ˆ ë¶„ë¦¬, ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ |
| í˜‘ì—…/ë°°í¬ | GitHub ì—…ë¡œë“œ, Streamlit Cloud ë°°í¬ |

---

ì´ê²Œ **í•˜ë£¨(8ì‹œê°„) ê¸°ì¤€ â€œí° ë¼ˆëŒ€â€**ì…ë‹ˆë‹¤.
ë‹¤ìŒ ì§ˆë¬¸ì—ì„œ,

- `app.py` ì „ì²´ ì˜ˆì‹œ,
- `data_loader.py`,
- `layout.py / views.py`
ê°™ì´ **íŒŒì¼ë³„ ìƒì„¸ ì½”ë“œ**ë¥¼ ë‹¨ê³„ë³„ë¡œ í’€ì–´ì¤„ê²Œìš” ğŸ˜Š
```

---
ê¹ƒí—ˆë¸Œ ì „ì²´ íë¦„ ìš”ì•½
1ï¸âƒ£ GitHubì—ì„œ ë¹ˆ ë ˆí¬ ìƒì„±  
2ï¸âƒ£ ë¡œì»¬ í”„ë¡œì íŠ¸ë¥¼ Git ë ˆí¬ë¡œ ì´ˆê¸°í™”  
3ï¸âƒ£ GitHub ë ˆí¬ì™€ remote ì—°ê²°  
4ï¸âƒ£ `main` ë¸Œëœì¹˜ë¡œ ì²« push  
5ï¸âƒ£ (ì„ íƒ) ê¸°ëŠ¥ ë¸Œëœì¹˜ â†’ PR â†’ Merge  

---
## GitHubì—ì„œ ë ˆí¬ì§€í† ë¦¬ ìƒì„± (ì›¹ì—ì„œ ë¨¼ì €)

###### GitHub ì ‘ì† â†’ New repository
| í•­ëª©                     | ê°’                            |
| ---------------------- | ---------------------------- |
| Repository name        | `streamlit-dashboard-day`    |
| Public / Private       | Public (ìˆ˜ì—…/í¬íŠ¸í´ë¦¬ì˜¤ë©´ Public ê¶Œì¥) |
| Initialize with README | âŒ ì²´í¬í•˜ì§€ ë§ ê²ƒ                   |
| Add .gitignore         | âŒ                            |
| License                | âŒ                            |

ë ˆí¬ ìƒì„± ì™„ë£Œ í›„ ì£¼ì†Œ ë³µì‚¬: ê°ìì˜ ê¹ƒí—ˆë¸Œ ì‚¬ì´íŠ¸ì—ì„œ í™•ì¸í•©ë‹ˆë‹¤.
```bash
https://github.com/<username>/streamlit-dashboard-day.git
```

ë¡œì»¬ í”„ë¡œì íŠ¸ë¥¼ Git ë ˆí¬ë¡œ ë§Œë“¤ê¸° (ì—¬ê¸°ì„œ git init)
	ì´ì œ ë¡œì»¬ í„°ë¯¸ë„(WSL) ë¡œ ëŒì•„ì˜µë‹ˆë‹¤.

í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
```bash
cd ~/streamlit_dashboard_day
```

í™•ì¸:
```bash
pwd
ls
```

Git ì´ˆê¸° ì„¤ì •(ë”± í•œ ë²ˆë§Œ)
(ì´ë¯¸ init ë˜ì–´ ìˆë‹¤ë©´ ìƒëµ ê°€ëŠ¥)
```bash
git init
```

.gitignore í™•ì¸ (ì¤‘ìš”)
`.venv/` ê°™ì€ ê²Œ ì˜¬ë¼ê°€ë©´ ì•ˆ ë©ë‹ˆë‹¤.
```bash
cat .gitignore
```

ì²« ì»¤ë°‹ ë§Œë“¤ê¸° (ì•„ì§ GitHubë‘ ì—°ê²° âŒ)
```bash
git status
```
	â†’ app.py, dashboard/, services/, requirements.txt, README.md ë“±ì´ ë³´ì´ë©´ ì •ìƒ

ìŠ¤í…Œì´ì§• + ì»¤ë°‹
```bash
git add .
git commit -m "Initial Streamlit dashboard (Step 1~6 complete)"
```
ğŸ‘‰ ì•„ì§ GitHubë¡œ ì•ˆ ì˜¬ë¼ê°  
ğŸ‘‰ ê·¸ëƒ¥ ë¡œì»¬ Git ê¸°ë¡ë§Œ ë§Œë“  ìƒíƒœ

GitHub ë ˆí¬ì™€ ì—°ê²° (remote add origin)
	ì´ì œ ì•„ê¹Œ ë³µì‚¬í•´ ë‘” GitHub ì£¼ì†Œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
remote ë“±ë¡
```bash
git remote add origin https://github.com/eunice-bootcamp-team2/Streamlit10.git
```

ì—°ê²° í™•ì¸
```bash
git remote -v
```

ì •ìƒ ì¶œë ¥ ì˜ˆ:
```bash
origin  https://github.com/username/streamlit-dashboard-day.git (fetch)
origin  https://github.com/username/streamlit-dashboard-day.git (push)
```

main ë¸Œëœì¹˜ë¡œ ì²« push : ë¸Œëœì¹˜ ì´ë¦„ì„ mainìœ¼ë¡œ ë§ì¶”ê¸°
```bash
git branch -M main
```

ì²« push (â­ ì—¬ê¸°ì„œ ì²˜ìŒ GitHubì— ì˜¬ë¼ê°)
```bash
git push -u origin main
```
ì´ì œì„œì•¼ GitHub ë ˆí¬ì— ì½”ë“œê°€ ìƒê¹ë‹ˆë‹¤

í™•ì¸:
- GitHub í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
- íŒŒì¼ êµ¬ì¡°ê°€ ë³´ì´ë©´ ì„±ê³µ
---
## í˜‘ì—… â€” Pull Request
	ìˆ˜ì—…/íŒ€ í”„ë¡œì íŠ¸ë¼ë©´ ì´ ë‹¨ê³„ê°€ ë§¤ìš° ì¤‘ìš”
	ëª©ì : mainì— ë°”ë¡œ pushí•˜ì§€ ì•Šê³ ,feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—… â†’ PRë¡œ ìš”ì²­ â†’ ë¦¬ë·° â†’ merge
	í•˜ëŠ” ì‹¤ë¬´ í‘œì¤€ íë¦„ì„ ê²½í—˜í•œë‹¤.

PR í•˜ê¸° ì „ì— ê¼­ í™•ì¸í•  ê²ƒ (main ìµœì‹ í™”)
ì§€ê¸ˆ ë‚´ê°€ mainì¸ì§€ í™•ì¸
```bash
git branch
```
- `* main` ì´ë©´ OK
- `* feature/...`ë©´ mainìœ¼ë¡œ ì´ë™ í›„ ìµœì‹ í™”ë¶€í„°

mainìœ¼ë¡œ ì´ë™ + ìµœì‹ í™”
```bash
git checkout main
git pull origin main
```
	íŒ€ í”„ë¡œì íŠ¸ì—ì„œëŠ” í•­ìƒ ì‘ì—… ì‹œì‘ ì „ main ìµœì‹ í™”ê°€ ê¸°ë³¸ ìŠµê´€ì…ë‹ˆë‹¤.


ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„± (feature ë¸Œëœì¹˜)
ë¸Œëœì¹˜ ì´ë¦„ ê·œì¹™ ì˜ˆì‹œ:
- `feature/layout-improve`
- `feature/monitor-threshold`
- `fix/chart-bug`
- `docs/readme-update`

ë¸Œëœì¹˜ ìƒì„± + ì´ë™
```bash
git checkout -b feature/layout-improve
```

ë¸Œëœì¹˜ í™•ì¸
```bash
git branch
```
`* feature/layout-improve` ë¡œ í‘œì‹œë˜ë©´ ì„±ê³µ

ë¸Œëœì¹˜ì—ì„œ ì½”ë“œ ìˆ˜ì •
	ì˜ˆì‹œë¡œ â€œUI ë¬¸êµ¬ ê°œì„ â€ ë˜ëŠ” â€œê´€ì œ ì„ê³„ì¹˜ ê¸°ë³¸ê°’ ì¶”ê°€â€ ê°™ì€ ì‘ì€ ë³€ê²½ 1ê°œë¥¼ í•©ë‹ˆë‹¤.

ë³€ê²½ íŒŒì¼ í™•ì¸(ë³€ê²½ ì „)
```bash
git status
```

ì½”ë“œ ìˆ˜ì • : VSCodeì—ì„œ ìˆ˜ì •
```bash
ì•„ë¬´ íŒŒì¼ì´ë‚˜ ì—´ì–´ì„œ ì£¼ì„ë¬¸ì„ ê°„ëµíˆ ìˆ˜ì •í•´ë³¸ë‹¤.
```

ë³€ê²½ ë‚´ìš© í™•ì¸
```bash
git diff
```

ì½”ë“œ ìˆ˜ì • í›„ ì»¤ë°‹
```bash
git add .  # ìŠ¤í…Œì´ì§•(add)
git commit -am "Improve layout with tabs and sidebar"  # ì»¤ë°‹(commit)
```


ì›ê²© ë¸Œëœì¹˜ë¡œ push (PR ë§Œë“¤ë ¤ë©´ ê¼­ í•„ìš”)
	ë¸Œëœì¹˜ push (ì²˜ìŒ í•œ ë²ˆì€ -u ê¶Œì¥)
```bash
git push -u origin feature/layout-improve
```
	ì„±ê³µí•˜ë©´ GitHubì— feature/layout-improve ë¸Œëœì¹˜ê°€ ìƒê¹ë‹ˆë‹¤.

GitHubì—ì„œ PR ë§Œë“¤ê¸° (ì›¹)

PR ìƒì„± í™”ë©´ìœ¼ë¡œ ì´ë™
GitHub ë ˆí¬ ì ‘ì†í•˜ë©´ ìƒë‹¨ì— ì´ëŸ° ë²„íŠ¼ì´ ëœ° ìˆ˜ ìˆì–´ìš”:
- Compare & pull request â†’ í´ë¦­
    
ì—†ë‹¤ë©´:
- ìƒë‹¨ ë©”ë‰´ Pull requests â†’ New pull request
    

PR ì„¤ì •(ì¤‘ìš”)
- base: `main`
- compare: `feature/layout-improve`
    
âœ… ì´ ì„¤ì •ì´ â€œë‚´ ë¸Œëœì¹˜ ë³€ê²½ì‚¬í•­ì„ mainì— ë°˜ì˜í•´ë‹¬ë¼â€ëŠ” ëœ»ì…ë‹ˆë‹¤.

PR ì œëª©/ë³¸ë¬¸ ì‘ì„±(í…œí”Œë¦¿)
ì œëª© ì˜ˆì‹œ
- `Improve layout and sidebar UX`
- `Add monitor threshold and warnings`
- `Fix chart rendering when empty`
	

ë³¸ë¬¸ í…œí”Œë¦¿
```txt
## ë³€ê²½ ë‚´ìš© 
- íƒ­ ì´ë¦„ì„ ë” ëª…í™•í•˜ê²Œ ìˆ˜ì • 
- ì‚¬ì´ë“œë°” ì•ˆë‚´ ë¬¸êµ¬ ì¶”ê°€  
    
## í…ŒìŠ¤íŠ¸ 
- [ ] uv run streamlit run app.pyë¡œ í™”ë©´ í™•ì¸ 
- [ ] uv run pytest í†µê³¼  
      
## ìŠ¤í¬ë¦°ìƒ·(ì„ íƒ)
- (íƒ­ í™”ë©´ ìº¡ì²˜ 1ì¥)
```

![[Pasted image 20251222213449.png]]

ì§€ê¸ˆ ë³´ê³  ìˆëŠ” í™”ë©´ì˜ ì •ì²´
ì´ í™”ë©´ì€ GitHub Pull Request(PR) ìƒì„± í™”ë©´ì…ë‹ˆë‹¤.
- **base: `main`** â† ìµœì¢…ìœ¼ë¡œ í•©ì³ì§ˆ ë¸Œëœì¹˜
- **compare: `feature/layout-improve`** â† ë‚´ê°€ ì‘ì—…í•œ ë¸Œëœì¹˜
- ìœ„ì— `Able to merge` ì´ˆë¡ í‘œì‹œ â†’ ì¶©ëŒ ì—†ì´ ë³‘í•© ê°€ëŠ¥

Create pull request ë…¹ìƒ‰ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë³‘í•©í•©ë‹ˆë‹¤.

---
Reviewer ì§€ì •ì´ë€?
	ì´ PRì„ ëˆ„ê°€ ë¦¬ë·°(ì½”ë“œ í™•ì¸)í•  ê²ƒì¸ì§€ ì§€ì •í•˜ëŠ” ê¸°ëŠ¥

- ì‹¤ë¬´/íŒ€ í”„ë¡œì íŠ¸ì—ì„œëŠ”:
    - ì½”ë“œ ì‘ì„±ì â‰  ì½”ë“œ í™•ì¸ì
    - ë¦¬ë·°ì–´ê°€ ì½”ë“œ ë³´ê³ :
        - â€œì´ê±° OKâ€
        - â€œì—¬ê¸° ìˆ˜ì • í•„ìš”â€
- ì´ëŸ° ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.

---
ì´ë¯¸ì§€ ê¸°ì¤€ìœ¼ë¡œ â€œì–´ë””ë¥¼ ëˆŒëŸ¬ì•¼ í•˜ë‚˜?â€

1ï¸âƒ£ í™”ë©´ ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°”ë¥¼ ë´…ë‹ˆë‹¤
ì´ë¯¸ì§€ ì˜¤ë¥¸ìª½ì— ì´ëŸ° ì„¹ì…˜ë“¤ì´ ë³´ì¼ ê±°ì˜ˆìš”:
- Reviewers
- Assignees
- Labels
- Projects
- Milestone
ìš°ë¦¬ê°€ ë³´ëŠ” ê±´ **Reviewers** ì…ë‹ˆë‹¤.

![[Pasted image 20251222213710.png]]

---
2ï¸âƒ£ `Reviewers` ì˜ì—­ í™•ì¸

ì´ë¯¸ì§€ì—ì„œ ë³´ì´ëŠ” ìƒíƒœ ğŸ‘‡
```
Reviewers
Noreviews
(âš™ï¸ ì•„ì´ì½˜)
```

ğŸ‘‰ ì•„ì§ ì•„ë¬´ë„ ë¦¬ë·°ì–´ë¡œ ì§€ì •ë˜ì§€ ì•Šì€ ìƒíƒœì…ë‹ˆë‹¤.

---
3ï¸âƒ£ Reviewer ì¶”ê°€í•˜ëŠ” ë°©ë²• (íŒ€ì›ì´ ìˆì„ ë•Œ)
1. Reviewers ì˜†ì˜ âš™ï¸(í†±ë‹ˆë°”í€´)í´ë¦­
2. ë ˆí¬ì§€í† ë¦¬ì— ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” íŒ€ì› ëª©ë¡ì´ ëœ¸
3. ë¦¬ë·°ë¥¼ ë§¡ê¸¸ ì‚¬ëŒ í´ë¦­
4. ì„ íƒ ì¦‰ì‹œ Reviewerë¡œ ì¶”ê°€ë¨

ğŸ“Œ ê·¸ëŸ¬ë©´:
- ê·¸ ì‚¬ëŒì—ê²Œ PR ë¦¬ë·° ìš”ì²­ ì•Œë¦¼ì´ ê°
- PR í™”ë©´ì— ê·¸ ì‚¬ëŒì´ Reviewerë¡œ í‘œì‹œë¨

---
íŒ€ì›ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•:
	ì´ ë ˆí¬ì§€í† ë¦¬ì— collaborator(í˜‘ì—…ì)ê°€ ì•„ë¬´ë„ ì—†ìŠµë‹ˆë‹¤.

ğŸ”¹ ì „ì œ ì¡°ê±´
- ë ˆí¬ì§€í† ë¦¬ Owner(ì†Œìœ ì) ì´ê±°ë‚˜
- ê´€ë¦¬ ê¶Œí•œ(Admin) ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤  
    (ë³¸ì¸ ë ˆí¬ë¼ë©´ ë‹¹ì—°íˆ OK)

---
ğŸ§­ 1ë‹¨ê³„: ë ˆí¬ì§€í† ë¦¬ Settingsë¡œ ì´ë™
1. GitHub ë ˆí¬ì§€í† ë¦¬ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
2. ìƒë‹¨ ë©”ë‰´ì—ì„œ **`Settings`** í´ë¦­

> âš ï¸ ê°œì¸ ê³„ì • ë ˆí¬ë¼ë©´ Settings ë©”ë‰´ê°€ ë³´ì…ë‹ˆë‹¤
> ì¡°ì§ ë ˆí¬ë¼ë„ ê¶Œí•œ ìˆìœ¼ë©´ ë³´ì…ë‹ˆë‹¤

---
ğŸ§­ 2ë‹¨ê³„: Collaborators ë©”ë‰´ ë“¤ì–´ê°€ê¸°

Settings ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ:
```
Access
â””â”€â”€ Collaborators
```
í´ë¦­í•˜ë©´ ì•„ë˜ í™”ë©´ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.

![[Pasted image 20251222214711.png]]

---
ğŸ§­ 3ë‹¨ê³„: íŒ€ì› ì´ˆëŒ€í•˜ê¸°
1. **`Add people`** ë²„íŠ¼ í´ë¦­
2. ì´ˆëŒ€í•  ì‚¬ëŒì˜:
    - GitHub **ì•„ì´ë””(username)**
    - ë˜ëŠ” **ì´ë©”ì¼**
3. ì„ íƒ â†’ **Add / Invite**

ğŸ“Œ ì´ë•Œ ê¶Œí•œì€ ë³´í†µ:
- `Write` â†’ ë¦¬ë·° & PR ê°€ëŠ¥ (ì¶”ì²œ)
- `Read` â†’ ë¦¬ë·°ë§Œ ê°€ëŠ¥
- `Admin` â†’ ê´€ë¦¬ê¹Œì§€ ê°€ëŠ¥
ğŸ‘‰ ìˆ˜ì—…/íŒ€ í”„ë¡œì íŠ¸ë©´ **Write ê¶Œí•œ**ì´ë©´ ì¶©ë¶„

---
ğŸ§­ 4ë‹¨ê³„: íŒ€ì›ì´ ì´ˆëŒ€ ìˆ˜ë½

- ì´ˆëŒ€ëœ ì‚¬ëŒì—ê²Œ GitHub ì•Œë¦¼ ë˜ëŠ” ì´ë©”ì¼ì´ ê°
- Accept invitation í´ë¦­í•´ì•¼ ì‹¤ì œë¡œ ì¶”ê°€ë¨
âš ï¸ ìˆ˜ë½ ì „ê¹Œì§€ëŠ” Reviewer ëª©ë¡ì— ì•ˆ ë³´ì„

---
ğŸ§­ 5ë‹¨ê³„: ë‹¤ì‹œ PR í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
ì´ì œ ë‹¤ì‹œ PR í™”ë©´ìœ¼ë¡œ ì™€ì„œ:
1. `Reviewers` â†’ âš™ï¸ í´ë¦­
2. ì•„ê¹Œ ì´ˆëŒ€í•œ íŒ€ì›ì´ ëª©ë¡ì— ë“±ì¥
3. í´ë¦­ â†’ Reviewer ì§€ì • ì™„ë£Œ ğŸ‰

---
ğŸ” íë¦„ ìš”ì•½ (í•œ ì¤„ë¡œ)
	ReviewerëŠ” ë¨¼ì € Collaboratorë¡œ ì´ˆëŒ€ â†’ ì´ˆëŒ€ ìˆ˜ë½ â†’ PRì—ì„œ ì„ íƒí•´ì•¼ ë³´ì¸ë‹¤.
ğŸ¤” ì§€ê¸ˆ íŒ€ì›ì´ ì•„ì§ ì—†ìœ¼ë‹ˆ íŒ€ì„ ì§œë©´ ì´ëŒ€ë¡œ ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

----
### ì½”ë“œ ë¦¬ë·°(Reviewerê°€ í•˜ëŠ” ì¼) â€” â€œì–´ë–»ê²Œ ì‘ì—…í•˜ëŠ”ì§€â€ ìƒì„¸

ë¦¬ë·°ì–´ê°€ ë³´ëŠ” ìœ„ì¹˜
- PR í˜ì´ì§€ â†’ Fix chart rendering when empty ì œëª©ì„ í´ë¦­
- Files changed íƒ­ í´ë¦­
![[Pasted image 20251222215335.png]]
Files changed íƒ­ì˜ ì—­í• 
`Files changed` íƒ­ì„ ëˆ„ë¥´ë©´ ğŸ‘‡
- ì–´ë–¤ íŒŒì¼ì´ ë°”ë€Œì—ˆëŠ”ì§€
- ì–´ë–¤ ì¤„ì´ ì¶”ê°€(+ ì´ˆë¡) / ì‚­ì œ(- ë¹¨ê°•)ëëŠ”ì§€
- ë¦¬ë·°ì–´ê°€ ì½”ë“œì— ì½”ë©˜íŠ¸ ë‹¬ ìˆ˜ ìˆëŠ” í™”ë©´
    
ì¦‰ ğŸ‘‰ ë¦¬ë·°ì–´ê°€ ì‹¤ì œë¡œ ì½”ë“œë¥¼ ë³´ëŠ” í•µì‹¬ ê³µê°„


ì½”ë©˜íŠ¸ ë‹¤ëŠ” ë°©ë²• 3ê°€ì§€
A) ë¼ì¸ ì½”ë©˜íŠ¸(ê°€ì¥ ì¤‘ìš”)
- ì½”ë“œ ì¤„ ë²ˆí˜¸ ì˜† `+` í´ë¦­ â†’ ì½”ë©˜íŠ¸ ì‘ì„± â†’ **Add single comment**

ì˜ˆì‹œ ì½”ë©˜íŠ¸:
- â€œì´ ë³€ìˆ˜ëª…ì€ `selected_year`ë³´ë‹¤ `year`ê°€ ë” ê°„ë‹¨í•´ìš”.â€
- â€œë¹ˆ ë°ì´í„° ì²˜ë¦¬ if ë¬¸ì´ ì—¬ê¸°ì—ë„ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.â€

B) ì œì•ˆ(Suggestion) ì½”ë©˜íŠ¸(ì‹¤ë¬´ ëŠë‚Œ)
- ì½”ë©˜íŠ¸ ë°•ìŠ¤ì—ì„œ â€œInsert a suggestionâ€ ì‚¬ìš© ê°€ëŠ¥
- ì˜ˆ: ë¬¸ìì—´ ë¬¸êµ¬ë‚˜ ì‘ì€ ì½”ë“œ ê°œì„  ì œì•ˆ

C) Review ìš”ì•½(Approve / Request changes)
- Files changed í™”ë©´ ìƒë‹¨ ë˜ëŠ” Review ë²„íŠ¼ â†’ Submit review
    - Approve: ë¬¸ì œ ì—†ìŒ â†’ merge ê°€ëŠ¥
    - Request changes: ìˆ˜ì • ìš”ì²­(merge ë§‰í˜)
    - Comment: ê·¸ëƒ¥ ì˜ê²¬
![[Pasted image 20251222215547.png]]

![[Pasted image 20251222220354.png]]

---
ë¦¬ë·° ë°˜ì˜(ì‘ì„±ìê°€ í•˜ëŠ” ì¼) â€” ìˆ˜ì • â†’ ë‹¤ì‹œ push â†’ ë¦¬ë·° ì¬í™•ì¸
ë¦¬ë·°ì—ì„œ â€œìˆ˜ì • ìš”ì²­â€ì„ ë°›ì•˜ë‹¤ê³  ê°€ì •.

ë¡œì»¬ë¡œ ëŒì•„ì™€ ìˆ˜ì •
```bash
# í˜„ì¬ ë¸Œëœì¹˜ í™•ì¸
git branch
```
	`feature/layout-improve` ì´ì–´ì•¼ í•¨.

ìˆ˜ì • í›„: ë‹¤ì‹œ ì»¤ë°‹
```bash
git add .
git commit -m"Apply review feedback: rename variables and handle empty state"
```

ë‹¤ì‹œ push
```bash
git push
```
	PRì€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
	PR í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ëœ ìƒíƒœë¡œ ë³´ì…ë‹ˆë‹¤.

---
### PR Merge (ìŠ¹ì¸ í›„ mainì— í•©ì¹˜ê¸°)

Merge ì „ì— ìµœì¢… í™•ì¸
- PR í˜ì´ì§€ì—ì„œ:
    - âœ… checks í†µê³¼(ìˆë‹¤ë©´)
    - âœ… ë¦¬ë·° ìŠ¹ì¸(Approve)
    - âœ… ì¶©ëŒ(conflict) ì—†ìŒ

Merge ë°©ì‹ ì„ íƒ(ê¶Œì¥)
- Squash and merge ê¶Œì¥ (ì‹¤ìŠµ/êµìœ¡ìš© ë² ìŠ¤íŠ¸)
    - ë¸Œëœì¹˜ ì»¤ë°‹ ì—¬ëŸ¬ ê°œë¥¼ mainì— 1ê°œ ì»¤ë°‹ìœ¼ë¡œ í•©ì¹¨
    - main íˆìŠ¤í† ë¦¬ê°€ ê¹”ë”í•´ì§

Merge ë²„íŠ¼ í´ë¦­
- Merge pull request â†’ Confirm
![[Pasted image 20251222220547.png]]

---
### Merge í›„ í•„ìˆ˜ ì •ë¦¬ (ë¡œì»¬/ì›ê²© ë¸Œëœì¹˜ ì •ë¦¬ê¹Œì§€) 
ì´ê±´ ì™œí•˜ëŠ”ì§€ ëª¨ë¥´ê² ì–´. ì¶”ê°€ ì„¤ëª…ì„ ë„£ì–´ì•¼í•´

mainìœ¼ë¡œ ì´ë™ + ìµœì‹ í™”
```bash
git checkout main
git pull origin main
```

ë¡œì»¬ ë¸Œëœì¹˜ ì‚­ì œ
```bash
git branch -d feature/layout-improve
```

ì›ê²© ë¸Œëœì¹˜ ì‚­ì œ(ì„ íƒ, í•˜ì§€ë§Œ ë³´í†µ í•¨)
```bash
git push origin --delete feature/layout-improve
```

---
â€œ2ì¸ 1ì¡° ì‹¤ìŠµâ€ ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤
- A: feature ë¸Œëœì¹˜ì—ì„œ ìˆ˜ì •í•˜ê³  PR ìƒì„±
- B: ë¦¬ë·°ì–´ë¡œ ë¼ì¸ ì½”ë©˜íŠ¸ 2ê°œ + Approve/Request changes
- A: ìˆ˜ì • ë°˜ì˜ í›„ push
- B: Approve
- A ë˜ëŠ” B: Squash merge
- ë‘˜ ë‹¤: main pull ë°›ê³  ë¸Œëœì¹˜ ì‚­ì œ

---
### ìì£¼ í„°ì§€ëŠ” ì‹¤ìˆ˜ TOP 3 (ë¯¸ë¦¬ ì°¨ë‹¨)

mainì—ì„œ ì‘ì—…í•´ë²„ë¦¼
```bash
git branch
```
	í•­ìƒ feature ë¸Œëœì¹˜ì¸ì§€ í™•ì¸í•˜ê³  ì‹œì‘

pushë¥¼ ì•ˆ í•´ì„œ PR ë¸Œëœì¹˜ê°€ GitHubì— ì—†ìŒ
```bash
git push -u origin feature/xxx
```

commit -amë§Œ ì“°ë‹¤ê°€ ìƒˆ íŒŒì¼ ëˆ„ë½
```bash
git add .
git commit -m"..."
```


